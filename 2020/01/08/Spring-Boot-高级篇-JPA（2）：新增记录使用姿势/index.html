<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://congsheng.wang').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•å¿«é€Ÿçš„æ­å»ºä¸€ä¸ªJPAçš„é¡¹ç›®ç¯å¢ƒï¼Œå¹¶ç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºdemoï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹ä¸šåŠ¡æ•™ç¨‹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„CURDï¼Œæ¥ä¸‹æ¥è¿›å…¥ç¬¬ä¸€ç¯‡ï¼Œå¦‚ä½•æ·»åŠ æ•°æ®é€šè¿‡æœ¬ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥getåˆ°ä»¥ä¸‹æŠ€èƒ½ç‚¹  POJOå¯¹è±¡å¦‚ä½•ä¸è¡¨å…³è” å¦‚ä½•å‘DBä¸­æ·»åŠ å•æ¡è®°å½• å¦‚ä½•æ‰¹é‡å‘DBä¸­æ·»åŠ è®°å½• save ä¸ saveAndFlushçš„åŒºåˆ«">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot é«˜çº§ç¯‡--JPAï¼ˆ2ï¼‰ï¼šæ–°å¢è®°å½•ä½¿ç”¨å§¿åŠ¿">
<meta property="og:url" content="http:&#x2F;&#x2F;congsheng.wang&#x2F;2020&#x2F;01&#x2F;08&#x2F;Spring-Boot-%E9%AB%98%E7%BA%A7%E7%AF%87-JPA%EF%BC%882%EF%BC%89%EF%BC%9A%E6%96%B0%E5%A2%9E%E8%AE%B0%E5%BD%95%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF&#x2F;index.html">
<meta property="og:site_name" content="ä¸ªäººåšå®¢">
<meta property="og:description" content="ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•å¿«é€Ÿçš„æ­å»ºä¸€ä¸ªJPAçš„é¡¹ç›®ç¯å¢ƒï¼Œå¹¶ç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºdemoï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹ä¸šåŠ¡æ•™ç¨‹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„CURDï¼Œæ¥ä¸‹æ¥è¿›å…¥ç¬¬ä¸€ç¯‡ï¼Œå¦‚ä½•æ·»åŠ æ•°æ®é€šè¿‡æœ¬ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥getåˆ°ä»¥ä¸‹æŠ€èƒ½ç‚¹  POJOå¯¹è±¡å¦‚ä½•ä¸è¡¨å…³è” å¦‚ä½•å‘DBä¸­æ·»åŠ å•æ¡è®°å½• å¦‚ä½•æ‰¹é‡å‘DBä¸­æ·»åŠ è®°å½• save ä¸ saveAndFlushçš„åŒºåˆ«">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;28f76-00.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;b7e26-01.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;91310-02.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;cc2e4-03.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;cdd5c-04.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;212fb-05.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;bd9b5-06.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;ee98c-07.jpg">
<meta property="og:updated_time" content="2020-01-08T09:19:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;28f76-00.jpg">

<link rel="canonical" href="http://congsheng.wang/2020/01/08/Spring-Boot-%E9%AB%98%E7%BA%A7%E7%AF%87-JPA%EF%BC%882%EF%BC%89%EF%BC%9A%E6%96%B0%E5%A2%9E%E8%AE%B0%E5%BD%95%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Spring Boot é«˜çº§ç¯‡--JPAï¼ˆ2ï¼‰ï¼šæ–°å¢è®°å½•ä½¿ç”¨å§¿åŠ¿ | ä¸ªäººåšå®¢</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ä¸ªäººåšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">congshengçš„åšå®¢</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾<span class="badge">141</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>åˆ†ç±»<span class="badge">91</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£<span class="badge">807</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="æœç´¢..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://congsheng.wang/2020/01/08/Spring-Boot-%E9%AB%98%E7%BA%A7%E7%AF%87-JPA%EF%BC%882%EF%BC%89%EF%BC%9A%E6%96%B0%E5%A2%9E%E8%AE%B0%E5%BD%95%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="congsheng.wang">
      <meta itemprop="description" content="trouble is a friend">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººåšå®¢">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Spring Boot é«˜çº§ç¯‡--JPAï¼ˆ2ï¼‰ï¼šæ–°å¢è®°å½•ä½¿ç”¨å§¿åŠ¿
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-01-08 17:19:40" itemprop="dateCreated datePublished" datetime="2020-01-08T17:19:40+08:00">2020-01-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">SpringæŠ€æœ¯</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring%E6%8A%80%E6%9C%AF/Spring-Boot/" itemprop="url" rel="index">
                    <span itemprop="name">Spring Boot</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring%E6%8A%80%E6%9C%AF/Spring-Data-JPA/" itemprop="url" rel="index">
                    <span itemprop="name">Spring Data JPA</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•å¿«é€Ÿçš„æ­å»ºä¸€ä¸ªJPAçš„é¡¹ç›®ç¯å¢ƒï¼Œå¹¶ç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºdemoï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹ä¸šåŠ¡æ•™ç¨‹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„CURDï¼Œæ¥ä¸‹æ¥è¿›å…¥ç¬¬ä¸€ç¯‡ï¼Œå¦‚ä½•æ·»åŠ æ•°æ®<br>é€šè¿‡æœ¬ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥getåˆ°ä»¥ä¸‹æŠ€èƒ½ç‚¹</p>
<ul>
<li>POJOå¯¹è±¡å¦‚ä½•ä¸è¡¨å…³è”</li>
<li>å¦‚ä½•å‘DBä¸­æ·»åŠ å•æ¡è®°å½•</li>
<li>å¦‚ä½•æ‰¹é‡å‘DBä¸­æ·»åŠ è®°å½•</li>
<li>save ä¸ saveAndFlushçš„åŒºåˆ«</li>
</ul>
<a id="more"></a>

<h2 id="I-ç¯å¢ƒå‡†å¤‡"><a href="#I-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="I. ç¯å¢ƒå‡†å¤‡"></a>I. ç¯å¢ƒå‡†å¤‡</h2><p>å®é™…å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦å…ˆèµ°ä¸€äº›å¿…è¦çš„æ“ä½œï¼Œå¦‚å®‰è£…æµ‹è¯•ä½¿ç”¨mysqlï¼Œåˆ›å»ºSpringBooté¡¹ç›®å·¥ç¨‹ï¼Œè®¾ç½®å¥½é…ç½®ä¿¡æ¯ç­‰ï¼Œå…³äºæ­å»ºé¡¹ç›®çš„è¯¦æƒ…å¯ä»¥å‚è€ƒå‰ä¸€ç¯‡æ–‡ç«  <a href="http://spring.hhui.top/spring-blog/2019/06/12/190612-SpringBootç³»åˆ—æ•™ç¨‹JPAä¹‹åŸºç¡€ç¯å¢ƒæ­å»º/" target="_blank" rel="noopener">190612-SpringBootç³»åˆ—æ•™ç¨‹JPAä¹‹åŸºç¡€ç¯å¢ƒæ­å»º</a><br>ä¸‹é¢ç®€å•çš„çœ‹ä¸€ä¸‹æ¼”ç¤ºæ·»åŠ è®°å½•çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦çš„é…ç½®</p>
<h3 id="1-è¡¨å‡†å¤‡"><a href="#1-è¡¨å‡†å¤‡" class="headerlink" title="1. è¡¨å‡†å¤‡"></a>1. è¡¨å‡†å¤‡</h3><p>æ²¿ç”¨å‰ä¸€ç¯‡çš„è¡¨ï¼Œç»“æ„å¦‚ä¸‹</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">CREATE TABLE `money` (</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  `id` int(11) unsigned <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  `name` varchar(20) <span class="keyword">NOT</span> <span class="literal">NULL</span><span class="built_in"> DEFAULT </span><span class="string">''</span> COMMENT <span class="string">'ç”¨æˆ·å'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  `money` int(26) <span class="keyword">NOT</span> <span class="literal">NULL</span><span class="built_in"> DEFAULT </span><span class="string">'0'</span> COMMENT <span class="string">'é’±'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  `is_deleted` tinyint(1) <span class="keyword">NOT</span> <span class="literal">NULL</span><span class="built_in"> DEFAULT </span><span class="string">'0'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  `create_at` timestamp <span class="keyword">NOT</span> <span class="literal">NULL</span><span class="built_in"> DEFAULT </span>CURRENT_TIMESTAMP COMMENT <span class="string">'åˆ›å»ºæ—¶é—´'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  `update_at` timestamp <span class="keyword">NOT</span> <span class="literal">NULL</span><span class="built_in"> DEFAULT </span>CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT <span class="string">'æ›´æ–°æ—¶é—´'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  PRIMARY KEY (`id`),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  KEY `name` (`name`)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">) <span class="attribute">ENGINE</span>=InnoDB <span class="attribute">AUTO_INCREMENT</span>=1<span class="built_in"> DEFAULT </span><span class="attribute">CHARSET</span>=utf8mb4;</span></pre></td></tr></table></figure>

<h3 id="2-é¡¹ç›®é…ç½®"><a href="#2-é¡¹ç›®é…ç½®" class="headerlink" title="2. é¡¹ç›®é…ç½®"></a>2. é¡¹ç›®é…ç½®</h3><p>é…ç½®ä¿¡æ¯ï¼Œä¸ä¹‹å‰æœ‰ä¸€ç‚¹ç‚¹åŒºåˆ«ï¼Œæˆ‘ä»¬æ–°å¢äº†æ›´è¯¦ç»†çš„æ—¥å¿—æ‰“å°ï¼›æœ¬ç¯‡ä¸»è¦ç›®æ ‡é›†ä¸­åœ¨æ·»åŠ è®°å½•çš„ä½¿ç”¨å§¿åŠ¿ï¼Œå¯¹äºé…ç½®è¯´æ˜ï¼Œåé¢å•ç‹¬è¿›è¡Œè¯´æ˜</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">## DataSource</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.datasource.url</span>=jdbc:mysql://<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">3306</span>/story?useUnicode=<span class="literal">true</span>&amp;characterEncoding=UTF-<span class="number">8</span>&amp;useSSL=<span class="literal">false</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=com.mysql.jdbc.Driver</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.datasource.username</span>=root</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.datasource.password</span>=</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment">## jpaç›¸å…³é…ç½®</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.jpa.database</span>=MYSQL</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.jpa.hibernate.ddl-auto</span>=none</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.jpa.show-sql</span>=<span class="literal">true</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.jackson.serialization.indent_output</span>=<span class="literal">true</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.jpa.hibernate.naming.physical-strategy</span>=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</span></pre></td></tr></table></figure>

<h2 id="II-Insertä½¿ç”¨æ•™ç¨‹"><a href="#II-Insertä½¿ç”¨æ•™ç¨‹" class="headerlink" title="II. Insertä½¿ç”¨æ•™ç¨‹"></a>II. Insertä½¿ç”¨æ•™ç¨‹</h2><blockquote>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œå…ˆå£°æ˜ä¸€ä¸‹ï¼Œå› ä¸ºä¸ªäººå®é™…é¡¹ç›®ä¸­å¹¶æ²¡æœ‰ä½¿ç”¨åˆ°JPAï¼Œå¯¹JPAçš„åŸåˆ™å’Œhibernateçš„ä¸€äº›ç‰¹æ€§äº†è§£çš„ä¹Ÿä¸å¤šï¼Œç›®å‰å¤„äºå­¦ä¹ æ¢ç´¢é˜¶æ®µï¼Œä¸»è¦æ˜¯ä»‹ç»ä¸‹ä½¿ç”¨å§¿åŠ¿ï¼Œä¸‹é¢çš„ä¸œè¥¿éƒ½æ˜¯ç»è¿‡æµ‹è¯•å¾—å‡ºï¼Œæœ‰äº›åœ°æ–¹æè¿°å¯èƒ½ä¸è§„èŒƒä¸å¤ªä¸€æ ·ï¼Œæˆ–è€…æœ‰äº›å·®é”™ï¼Œè¯·å‘ç°çš„å¤§ä½¬æŒ‡æ­£</p>
</blockquote>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è¿›å…¥æ­£é¢˜ï¼Œå¦‚ä½•é€šè¿‡JPAå®ç°æˆ‘ä»¬å¸¸è§çš„InsertåŠŸèƒ½</p>
<h3 id="1-POJOä¸è¡¨å…³è”"><a href="#1-POJOä¸è¡¨å…³è”" class="headerlink" title="1. POJOä¸è¡¨å…³è”"></a>1. POJOä¸è¡¨å…³è”</h3><p>é¦–å…ˆç¬¬ä¸€æ­¥å°±æ˜¯å°†POJOå¯¹è±¡ä¸è¡¨å…³è”èµ·æ¥ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥é€šè¿‡javaçš„æ“ä½œæ–¹å¼æ¥å®ç°æ•°æ®åº“çš„æ“ä½œäº†ï¼›<br>æˆ‘ä»¬ç›´æ¥åˆ›å»ºä¸€ä¸ªMoneyPoå¯¹è±¡ï¼ŒåŒ…å«ä¸Šé¢è¡¨ä¸­çš„å‡ ä¸ªå­—æ®µ</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MoneyPO</span> </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> Integer id;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> String name;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> <span class="built_in">Long</span> money;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> <span class="built_in">Byte</span> isDeleted;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> Timestamp createAt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> Timestamp updateAt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>è‡ªç„¶è€Œç„¶åœ°ï¼Œæˆ‘ä»¬å°±æœ‰å‡ ä¸ªé—®é¢˜äº†</p>
<ul>
<li>è¿™ä¸ªPOJOæ€ä¹ˆå‘Šè¯‰æ¡†æ¶å®ƒæ˜¯å’Œè¡¨Moneyç»‘å®šçš„å‘¢ï¼Ÿ</li>
<li>Javaä¸­å˜é‡å‘½ä»¤æ¨èé©¼å³°ç»“æ„ï¼Œé‚£ä¹ˆ <code>isDeleted</code> åˆå¦‚ä½•ä¸è¡¨ä¸­çš„ <code>is_deleted</code> å…³è”å‘¢ï¼Ÿ</li>
<li>POJOä¸­æˆå‘˜å˜é‡çš„ç±»å‹å¦‚ä½•ä¸è¡¨ä¸­çš„ä¿æŒä¸€è‡´å‘¢ï¼Œå¦‚æœä¸ä¸€è‡´ä¼šæ€æ ·å‘¢ï¼Ÿ</li>
</ul>
<p>é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜ï¼Œä¸€ä¸ªä¸€ä¸ªæ¥è¯´æ˜<br>å¯¹hibernateç†Ÿæ‚‰çš„åŒå­¦ï¼Œå¯èƒ½çŸ¥é“æˆ‘å¯ä»¥é€šè¿‡xmlé…ç½®çš„æ–¹å¼ï¼Œæ¥å…³è”POJOä¸æ•°æ®åº“è¡¨ï¼ˆå½“ç„¶mybatisä¹Ÿæ˜¯è¿™ä¹ˆç©çš„ï¼‰ï¼Œå‹æƒ…é“¾æ¥ä¸€ä¸‹<a href="https://docs.jboss.org/hibernate/core/4.3/manual/en-US/html/ch01.html#tutorial-associations-mappinguser" target="_blank" rel="noopener">hibernateçš„å®˜æ–¹è¯´æ˜æ•™ç¨‹</a>ï¼›æˆ‘ä»¬ä½¿ç”¨SpringBootï¼Œå½“ç„¶æ˜¯é€‰æ‹©æ³¨è§£çš„æ–¹å¼äº†ï¼Œä¸‹é¢æ˜¯é€šè¿‡æ³¨è§£çš„æ–¹å¼æ”¹é€ ä¹‹åçš„DOå¯¹è±¡</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">package</span> <span class="selector-tag">com</span><span class="selector-class">.git</span><span class="selector-class">.hui</span><span class="selector-class">.boot</span><span class="selector-class">.jpa</span><span class="selector-class">.entity</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">import</span> <span class="selector-tag">lombok</span><span class="selector-class">.Data</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">import</span> <span class="selector-tag">org</span><span class="selector-class">.springframework</span><span class="selector-class">.data</span><span class="selector-class">.annotation</span><span class="selector-class">.CreatedDate</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">import</span> <span class="selector-tag">javax</span><span class="selector-class">.persistence</span>.*;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">import</span> <span class="selector-tag">java</span><span class="selector-class">.sql</span><span class="selector-class">.Timestamp</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> * Created by @author yihui in 21:01 19/6/10.</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> */</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">@<span class="selector-tag">Data</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">@<span class="selector-tag">Entity</span>(name=<span class="string">"money"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">public</span> <span class="selector-tag">class</span> <span class="selector-tag">MoneyPO</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@Id</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@Column</span>(name = <span class="string">"id"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    private Integer id;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@Column</span>(name = <span class="string">"name"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    private String name;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@Column</span>(name = <span class="string">"money"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    private Long money;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@Column</span>(name = <span class="string">"is_deleted"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">    private Byte isDeleted;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@Column</span>(name = <span class="string">"create_at"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@CreatedDate</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    private Timestamp createAt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@Column</span>(name = <span class="string">"update_at"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@CreatedDate</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    private Timestamp updateAt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>æœ‰å‡ ä¸ªæœ‰æ„æ€çš„åœ°æ–¹ï¼Œéœ€è¦æˆ‘ä»¬æ³¨æ„</p>
<h4 id="a-entityæ³¨è§£"><a href="#a-entityæ³¨è§£" class="headerlink" title="a. entityæ³¨è§£"></a>a. entityæ³¨è§£</h4><p><code>@Entity</code> è¿™ä¸ªæ³¨è§£æ¯”è¾ƒé‡è¦ï¼Œç”¨äºå£°æ˜è¿™ä¸ªPOJOæ˜¯ä¸€ä¸ªä¸æ•°æ®åº“ä¸­å«åš <code>money</code> çš„è¡¨å…³è”çš„å¯¹è±¡ï¼›</p>
<ul>
<li><code>@Entity</code>æ³¨è§£æœ‰ä¸€ä¸ªå‚æ•°nameï¼Œç”¨äºæŒ‡å®šè¡¨åï¼Œå¦‚æœä¸ä¸»åŠ¨æŒ‡å®šæ—¶ï¼Œé»˜è®¤ç”¨ç±»åï¼Œå³ä¸Šé¢å¦‚æœä¸æŒ‡å®šé‚£ä¹ˆï¼Œé‚£ä¹ˆé»˜è®¤ä¸è¡¨ <code>moneypo</code> ç»‘å®š</li>
</ul>
<p>å¦å¤–ä¸€ä¸ªå¸¸è§çš„æ–¹å¼æ˜¯åœ¨ç±»ä¸Šæ·»åŠ æ³¨è§£ <code>@Table</code>ï¼Œç„¶åæŒ‡å®šè¡¨åï¼Œä¹Ÿæ˜¯å¯ä»¥çš„</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@Data</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@Entity</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@Table</span>(name = <span class="string">"money"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">public class MoneyPO &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="b-ä¸»é”®æŒ‡å®š"><a href="#b-ä¸»é”®æŒ‡å®š" class="headerlink" title="b. ä¸»é”®æŒ‡å®š"></a>b. ä¸»é”®æŒ‡å®š</h4><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°idä¸Šé¢æœ‰ä¸‰ä¸ªæ³¨è§£ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹å‰é¢ä¸¤ä¸ª</p>
<ul>
<li><code>@Id</code> é¡¾åæ€ä¹‰ï¼Œç”¨æ¥è¡¨æ˜è¿™å®¶ä¼™æ˜¯ä¸»é”®ï¼Œæ¯”è¾ƒé‡è¦ï¼Œéœ€è¦ç‰¹æ®Šå…³ç…§</li>
<li><code>@GeneratedValue</code> è®¾ç½®åˆå§‹å€¼ï¼Œè°ˆåˆ°ä¸»é”®ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šå’Œâ€è‡ªå¢â€œè¿™ä¸ªä¸€èµ·è¯´ï¼Œæ‰€ä»¥ä½ ç»å¸¸ä¼šçœ‹åˆ°çš„å–å€¼ä¸º <code>strategy = GenerationType.IDENTITY</code> (ç”±æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆï¼‰</li>
</ul>
<p>è¿™ä¸ªæ³¨è§£ä¸»è¦æä¾›äº†å››ç§æ–¹å¼ï¼Œåˆ†åˆ«è¯´æ˜å¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th>å–å€¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>GenerationType.TABLE</code></td>
<td>ä½¿ç”¨ä¸€ä¸ªç‰¹å®šçš„æ•°æ®åº“è¡¨æ ¼æ¥ä¿å­˜ä¸»é”®</td>
</tr>
<tr>
<td><code>GenerationType.SEQUENCE</code></td>
<td>æ ¹æ®åº•å±‚æ•°æ®åº“çš„åºåˆ—æ¥ç”Ÿæˆä¸»é”®ï¼Œæ¡ä»¶æ˜¯æ•°æ®åº“æ”¯æŒåºåˆ—</td>
</tr>
<tr>
<td><code>GenerationType.IDENTITY</code></td>
<td>ä¸»é”®ç”±æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆï¼ˆä¸»è¦æ˜¯è‡ªåŠ¨å¢é•¿å‹ï¼‰</td>
</tr>
<tr>
<td><code>GenerationType.AUTO</code></td>
<td>ä¸»é”®ç”±ç¨‹åºæ§åˆ¶</td>
</tr>
</tbody></table>
<p>å…³äºè¿™å‡ ç§ä½¿ç”¨å§¿åŠ¿ï¼Œè¿™é‡Œä¸è¯¦ç»†å±•å¼€äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å¯ä»¥çœ‹ä¸€ä¸‹è¿™åšæ–‡: <a href="https://blog.csdn.net/fancylovejava/article/details/7438660" target="_blank" rel="noopener">@GeneratedValue</a></p>
<h4 id="c-Columnæ³¨è§£"><a href="#c-Columnæ³¨è§£" class="headerlink" title="c. Columnæ³¨è§£"></a>c. Columnæ³¨è§£</h4><p>è¿™ä¸ªæ³¨è§£å°±æ˜¯ç”¨æ¥è§£å†³æˆ‘ä»¬pojoæˆå‘˜åå’Œæ•°æ®åº“åˆ—åä¸ä¸€è‡´çš„é—®é¢˜çš„ï¼Œè¿™ä¸ªæ³¨è§£å†…éƒ¨çš„å±æ€§ä¹Ÿä¸å°‘ï¼Œç›¸å¯¹å®¹æ˜“ç†è§£ï¼Œåé¢ä¼šå•å¼€ä¸€ç« æ¥è®°å½•è¿™äº›å¸¸ç”¨æ³¨è§£çš„è¯´æ˜æŸ¥é˜…</p>
<h4 id="d-CreateDateæ³¨è§£"><a href="#d-CreateDateæ³¨è§£" class="headerlink" title="d. CreateDateæ³¨è§£"></a>d. CreateDateæ³¨è§£</h4><p>è¿™ä¸ªæ³¨è§£å’Œå‰é¢ä¸ä¸€æ ·çš„æ˜¯å®ƒå¹¶éæ¥è‡ª<code>jpa-api</code>åŒ…ï¼Œè€Œæ˜¯<code>spring-data-common</code>åŒ…ä¸­æä¾›çš„ï¼Œè¡¨ç¤ºä¼šæ ¹æ®å½“å‰æ—¶é—´åˆ›å»ºä¸€ä¸ªæ—¶é—´æˆ³å¯¹è±¡</p>
<h4 id="e-å…¶ä»–"><a href="#e-å…¶ä»–" class="headerlink" title="e. å…¶ä»–"></a>e. å…¶ä»–</h4><p>åˆ°è¿™é‡Œè¿™ä¸ªPOJOå·²ç»åˆ›å»ºå®Œæ¯•ï¼Œåç»­çš„è¡¨ä¸­æ·»åŠ è®°å½•ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒäº†ï¼Œä½†æ˜¯è¿˜æœ‰å‡ ä¸ªé—®é¢˜æ˜¯æ²¡æœ‰æ˜ç¡®ç­”æ¡ˆçš„ï¼Œå…ˆæå‡ºæ¥ï¼ŒæœŸå¾…åæ–‡å¯ä»¥ç»™å‡ºå›ç­”</p>
<ol>
<li>POJOå±æ€§çš„ç±»å‹ä¸è¡¨ä¸­ç±»å‹</li>
<li>mysqlè¡¨ä¸­åˆ—å¯ä»¥æœ‰é»˜è®¤å€¼ï¼Œè¿™ä¸ªåœ¨POJOä¸­æ€ä¹ˆä½“ç°</li>
<li>ä¸€ä¸ªè¡¨åŒ…å«å¦ä¸€ä¸ªè¡¨çš„ä¸»é”®æ—¶ï¼ˆä¸»é”®å…³è”ï¼Œå¤–é”®ï¼‰ç­‰ç‰¹æ®Šçš„æƒ…å†µï¼ŒPOJOä¸­æœ‰ä½“ç°ä¹ˆï¼Ÿ</li>
</ol>
<h3 id="2-Repository-APIå£°æ˜"><a href="#2-Repository-APIå£°æ˜" class="headerlink" title="2. Repository APIå£°æ˜"></a>2. Repository APIå£°æ˜</h3><p>jpaéå¸¸æœ‰æ„æ€çš„ä¸€ç‚¹å°±æ˜¯ä½ åªéœ€è¦åˆ›å»ºä¸€ä¸ªæ¥å£å°±å¯ä»¥å®ç°dbæ“ä½œï¼Œå°±è¿™ä¹ˆç¥å¥‡ï¼Œå¯æƒœæœ¬æ–‡é‡Œé¢è§ä¸åˆ°å¤ªå¤šç¥å¥‡çš„ç”¨æ³•ï¼Œè¿™å—æ”¾åœ¨æŸ¥è¯¢ç¯‡æ¥è§è¯å¥‡è¿¹<br>æˆ‘ä»¬å®šä¹‰çš„APIéœ€è¦ç»§æ‰¿è‡ª<code>org.springframework.data.repository.CrudRepository</code>ï¼Œå¦‚ä¸‹</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">package</span> <span class="selector-tag">com</span><span class="selector-class">.git</span><span class="selector-class">.hui</span><span class="selector-class">.boot</span><span class="selector-class">.jpa</span><span class="selector-class">.repository</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">import</span> <span class="selector-tag">com</span><span class="selector-class">.git</span><span class="selector-class">.hui</span><span class="selector-class">.boot</span><span class="selector-class">.jpa</span><span class="selector-class">.entity</span><span class="selector-class">.MoneyPO</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">import</span> <span class="selector-tag">org</span><span class="selector-class">.springframework</span><span class="selector-class">.data</span><span class="selector-class">.jpa</span><span class="selector-class">.repository</span><span class="selector-class">.JpaRepository</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">import</span> <span class="selector-tag">org</span><span class="selector-class">.springframework</span><span class="selector-class">.data</span><span class="selector-class">.repository</span><span class="selector-class">.CrudRepository</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> * æ–°å¢æ•°æ®</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> * Created by @author yihui in 11:00 19/6/12.</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> */</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">public</span> <span class="selector-tag">interface</span> <span class="selector-tag">MoneyCreateRepository</span> <span class="selector-tag">extends</span> <span class="selector-tag">CrudRepository</span>&lt;<span class="selector-tag">MoneyPO</span>, <span class="selector-tag">Integer</span>&gt; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>å¥½çš„ï¼Œåˆ°è¿™é‡Œå°±å¯ä»¥ç›´æ¥æ·»åŠ æ•°æ®äº† ï¼ˆæ„Ÿè§‰ä»€ä¹ˆéƒ½æ²¡å¹²ï¼Œä½ å±…ç„¶å‘Šè¯‰æˆ‘å¯ä»¥æ’å…¥æ•°æ®ï¼Ÿï¼Ÿï¼Ÿï¼‰</p>
<h3 id="3-ä½¿ç”¨å§¿åŠ¿"><a href="#3-ä½¿ç”¨å§¿åŠ¿" class="headerlink" title="3. ä½¿ç”¨å§¿åŠ¿"></a>3. ä½¿ç”¨å§¿åŠ¿</h3><h4 id="a-åŸºç¡€ä½¿ç”¨case"><a href="#a-åŸºç¡€ä½¿ç”¨case" class="headerlink" title="a. åŸºç¡€ä½¿ç”¨case"></a>a. åŸºç¡€ä½¿ç”¨case</h4><p>å¸¸è§„çš„ä½¿ç”¨å§¿åŠ¿ï¼Œæ— éå•ä¸ªæ’å…¥å’Œæ‰¹é‡æ’å…¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹å¸¸è§„æ“ä½œ</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">@Component</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">public <span class="keyword">class</span> JpaInsertDemo &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    @Autowired</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> MoneyCreateRepository moneyCreateRepository;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    public void test<span class="constructor">Insert()</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        add<span class="constructor">One()</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        add<span class="constructor">Mutl()</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> void add<span class="constructor">One()</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">        <span class="comment">// å•ä¸ªæ·»åŠ </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        MoneyPO moneyPO = <span class="keyword">new</span> <span class="constructor">MoneyPO()</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">Name(<span class="string">"jpa ä¸€ç°ç°"</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">Money(1000L)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">IsDeleted((<span class="params">byte</span>)</span> <span class="number">0x00</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">        Timestamp now = <span class="keyword">new</span> <span class="constructor">Timestamp(System.<span class="params">currentTimeMillis</span>()</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">CreateAt(<span class="params">now</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">UpdateAt(<span class="params">now</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">        MoneyPO res = moneyCreateRepository.save(moneyPO);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">"after insert res: "</span> + res);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> void add<span class="constructor">Mutl()</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">        <span class="comment">// æ‰¹é‡æ·»åŠ </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">        MoneyPO moneyPO = <span class="keyword">new</span> <span class="constructor">MoneyPO()</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">Name(<span class="string">"batch jpa ä¸€ç°ç°"</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">Money(1000L)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">IsDeleted((<span class="params">byte</span>)</span> <span class="number">0x00</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">        Timestamp now = <span class="keyword">new</span> <span class="constructor">Timestamp(System.<span class="params">currentTimeMillis</span>()</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">CreateAt(<span class="params">now</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">UpdateAt(<span class="params">now</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">        MoneyPO moneyPO2 = <span class="keyword">new</span> <span class="constructor">MoneyPO()</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">        moneyPO2.set<span class="constructor">Name(<span class="string">"batch jpa ä¸€ç°ç°"</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">        moneyPO2.set<span class="constructor">Money(1000L)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">        moneyPO2.set<span class="constructor">IsDeleted((<span class="params">byte</span>)</span> <span class="number">0x00</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">        moneyPO2.set<span class="constructor">CreateAt(<span class="params">now</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">        moneyPO2.set<span class="constructor">UpdateAt(<span class="params">now</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">        Iterable&lt;MoneyPO&gt; res = moneyCreateRepository.save<span class="constructor">All(Arrays.<span class="params">asList</span>(<span class="params">moneyPO</span>, <span class="params">moneyPO2</span>)</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">"after batchAdd res: "</span> + res);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>çœ‹ä¸‹ä¸Šé¢çš„ä¸¤ä¸ªæ’å…¥æ–¹å¼ï¼Œå°±è¿™ä¹ˆç®€å•ï¼Œ</p>
<ul>
<li>é€šè¿‡IoC/DIæ³¨å…¥ repository</li>
<li>åˆ›å»ºPOå¯¹è±¡ï¼Œç„¶åè°ƒç”¨<code>save</code>, <code>saveAll</code>æ–¹æ³•å°±okäº†</li>
</ul>
<p>ä¸Šé¢æ˜¯ä¸€èˆ¬çš„ä½¿ç”¨å§¿åŠ¿ï¼Œé‚£ä¹ˆéä¸€èˆ¬ä½¿ç”¨å§¿åŠ¿å‘¢ï¼Ÿ</p>
<h4 id="b-æ’å…¥æ—¶é»˜è®¤å€¼æ”¯æŒæ–¹å¼"><a href="#b-æ’å…¥æ—¶é»˜è®¤å€¼æ”¯æŒæ–¹å¼" class="headerlink" title="b. æ’å…¥æ—¶é»˜è®¤å€¼æ”¯æŒæ–¹å¼"></a>b. æ’å…¥æ—¶é»˜è®¤å€¼æ”¯æŒæ–¹å¼</h4><p>åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬çŸ¥é“å­—æ®µéƒ½æœ‰é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå¦‚æœPOå¯¹è±¡ä¸­æŸä¸ªæˆå‘˜æˆ‘ä¸ä¼ ï¼Œå¯ä»¥æ’å…¥æˆåŠŸä¹ˆï¼Ÿä¼šæ˜¯é»˜è®¤çš„DBå€¼ä¹ˆï¼Ÿ</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> void add<span class="constructor">WithNull()</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">// å•ä¸ªæ·»åŠ </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">try</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">        MoneyPO moneyPO = <span class="keyword">new</span> <span class="constructor">MoneyPO()</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">Name(<span class="string">"jpa ä¸€ç°ç° ex"</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">Money(2000L)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">IsDeleted(<span class="params">null</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">        MoneyPO res = moneyCreateRepository.save(moneyPO);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">"after insert res: "</span> + res);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    &#125; catch (Exception e) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">"addWithNull field: "</span> + e.get<span class="constructor">Message()</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>å½“çœ‹åˆ°ä¸Šé¢çš„<code>try/catch</code>å¯èƒ½å°±æœ‰é¢„æ„Ÿï¼Œä¸Šé¢çš„æ‰§è¡Œå¤šåŠè¦è·ªï¼ˆğŸ˜ğŸ˜ğŸ˜ï¼‰ï¼Œä¸‹é¢æ˜¯æ‰§è¡Œæˆªå›¾ï¼Œä¹Ÿæ˜¯æ˜ç¡®å‘Šè¯‰äº†æˆ‘ä»¬è¿™ä¸ªä¸èƒ½ä¸ºnull<br><a href="http://image.winrains.cn/2019/11/28f76-00.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/28f76-00.jpg" alt="0"></a><br><strong>é‚£ä¹ˆæœ‰åŠæ³•è§£å†³ä¹ˆï¼Ÿéš¾é“å°±è¿™ä¹ˆå‘ç°å®æ”¾å¼ƒï¼Œå‘å¤§ä½¬å¦¥åä¹ˆï¼Ÿ</strong><br>é»˜è®¤å€¼å˜›ï¼Œä¸€ä¸ªå¾ˆå®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•ï¼Œæˆ‘ç›´æ¥åœ¨POå¯¹è±¡ä¸­ç»™ä¸€ä¸ªé»˜è®¤å€¼ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ï¼Œç„¶åæˆ‘ä»¬çš„POæ”¹é€ ä¸º</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@Data</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@Entity</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@Table</span>(name = <span class="string">"money"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">public class MoneyPO &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">// ... çœç•¥å…¶ä»–</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="variable">@Column</span>(name = <span class="string">"is_deleted"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    private Byte isDeleted = (byte) <span class="number">0</span>x00;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>æµ‹è¯•ä»£ç æ³¨é‡Šä¸€è¡Œ,å˜æˆä¸‹é¢è¿™ä¸ª</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> void add<span class="constructor">WithNull()</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">// å•ä¸ªæ·»åŠ </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">try</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">        MoneyPO moneyPO = <span class="keyword">new</span> <span class="constructor">MoneyPO()</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">Name(<span class="string">"jpa ä¸€ç°ç° ex"</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        moneyPO.set<span class="constructor">Money(2000L)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//            moneyPO.setIsDeleted(null);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">        MoneyPO res = moneyCreateRepository.save(moneyPO);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">"after insert res: "</span> + res);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    &#125; catch (Exception e) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">"addWithNull field: "</span> + e.get<span class="constructor">Message()</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>å†æ¬¡æ‰§è¡Œçœ‹ä¸‹ç»“æœå¦‚ä½•ï¼Œé¡ºåˆ©èµ°ä¸‹å»ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œå–œå¤§æ™®å¥”<br><a href="http://image.winrains.cn/2019/11/b7e26-01.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/b7e26-01.jpg" alt="1"></a>1<br>è¿™æ ·æˆ‘å°±æ»¡è¶³äº†å—ï¼Ÿè¦æ˜¯æ‰‹æŠ–ä¸Šé¢æµ‹è¯•æ³¨é‡Šæ‰çš„é‚£ä¸€è¡Œå¿˜äº†æ³¨é‡Šï¼Œå²‚ä¸æ˜¯ä¾ç„¶ä¼šè·ªï¼Ÿè€Œä¸”æˆ‘å¸Œæœ›æ˜¯è¡¨ä¸­çš„é»˜è®¤å€¼ï¼Œç›´æ¥åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ä¼šä¸ä¼šä¸å¤ªä¼˜é›…ï¼Ÿè¿™ä¸ªä¸»åŠ¨è®¾ç½®çš„é»˜è®¤å€¼ï¼Œåœ¨åé¢æŸ¥è¯¢çš„æ—¶å€™ä¼šä¸ä¼šæœ‰å‘ï¼Ÿ</p>
<ul>
<li>ä½œä¸ºä¸€ä¸ªæœ‰è¿½æ±‚çš„æ–°é’å¹´ï¼Œå½“ç„¶å¯¹ä¸Šé¢çš„ç­”æ¡ˆsay noäº†</li>
</ul>
<p>æˆ‘ä»¬çš„è§£å†³æ–¹æ³•ä¹Ÿç®€å•ï¼Œåœ¨POç±»ä¸Šï¼ŒåŠ ä¸€ä¸ªæ³¨è§£ <code>@DynamicInsert</code>ï¼Œè¡¨ç¤ºåœ¨æœ€ç»ˆåˆ›å»ºsqlçš„æ—¶å€™ï¼Œä¸ºnullçš„é¡¹å°±ä¸è¦äº†å“ˆ<br>ç„¶åæˆ‘ä»¬çš„æ–°çš„POï¼Œåœ¨åŸå§‹ç‰ˆæœ¬ä¸Šå˜æˆå¦‚ä¸‹(æ³¨æ„å¹²æ‰ä¸Šä¸€æ¬¡çš„é»˜è®¤å€¼ï¼‰</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@Data</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@DynamicInsert</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@Entity</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@Table</span>(name = <span class="string">"money"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">public class MoneyPO &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">// ... çœç•¥</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>å†æ¥ä¸€æ³¢å®é™…çš„æµ‹è¯•ï¼Œå®Œç¾äº†ï¼Œæ²¡æœ‰æŠ›å¼‚å¸¸ï¼Œæ’å…¥æˆåŠŸï¼Œè€Œä¸”æ§åˆ¶å°ä¸­è¾“å‡ºçš„sqlæ—¥å¿—ä¹ŸéªŒè¯äº†æˆ‘ä»¬ä¸Šé¢è¯´çš„<code>@DynamicInsert</code>æ³¨è§£çš„ä½œç”¨ï¼ˆæ—¥å¿—è¾“å‡ºhibernateçš„sqlï¼Œå¯ä»¥é€šè¿‡é…ç½®application.propertiesæ–‡ä»¶ï¼Œæ·»åŠ å‚æ•°<code>spring.jpa.show-sql=true</code>ï¼‰<br><a href="http://image.winrains.cn/2019/11/91310-02.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/91310-02.jpg" alt="2"></a></p>
<h4 id="c-ç±»å‹å…³è”"><a href="#c-ç±»å‹å…³è”" class="headerlink" title="c. ç±»å‹å…³è”"></a>c. ç±»å‹å…³è”</h4><p>é’ˆå¯¹ä¸Šé¢çš„POå¯¹è±¡ï¼Œæœ‰å‡ ä¸ªåœ°æ–¹æ„Ÿè§‰ä¸çˆ½ï¼ŒisDeleteæˆ‘æƒ³è¦booleanï¼Œtrueè¡¨ç¤ºåˆ é™¤falseè¡¨ç¤ºæ²¡åˆ é™¤ï¼Œæä¸€ä¸ªbyteç”¨èµ·æ¥å¤ªä¸æ–¹ä¾¿äº†ï¼Œè¿™ä¸ªè¦æ€ä¹ˆæï¼Ÿ<br>è¿™ä¸ªå¹¶ä¸æ€ä¹ˆå¤æ‚ï¼Œå› ä¸ºç›´æ¥å°†byteç±»å‹æ”¹æˆbooleanå°±å¯ä»¥äº†ï¼Œå¦‚æœdbä¸­æ—¶0å¯¹åº”çš„falseï¼›1å¯¹åº”çš„trueï¼Œä¸‹é¢æ˜¯éªŒè¯ç»“æœï¼Œå¹¶æ²¡æœ‰å•¥é—®é¢˜<br><a href="http://image.winrains.cn/2019/11/cc2e4-03.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/cc2e4-03.jpg" alt="3"></a><br>åœ¨JPAè§„èŒƒä¸­ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»å‹çš„å±æ€§éƒ½å¯ä»¥æŒä¹…åŒ–çš„ï¼Œä¸‹è¡¨åˆ—ä¸¾äº†å¯æ˜ å°„ä¸ºæŒä¹…åŒ–çš„å±æ€§ç±»å‹:</p>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>åŸºæœ¬ç±»å‹</td>
<td>byteã€intã€shortã€longã€booleanã€charã€floatã€double</td>
</tr>
<tr>
<td>åŸºæœ¬ç±»å‹å°è£…ç±»</td>
<td>Byteã€Integerã€Shortã€Longã€Booleanã€Characterã€Floatã€Double</td>
</tr>
<tr>
<td>å­—èŠ‚å’Œå­—ç¬¦æ•°ç»„</td>
<td>byte[]ã€Byte[]ã€char[]ã€Character[]</td>
</tr>
<tr>
<td>å¤§æ•°å€¼ç±»å‹</td>
<td>BigIntegerã€BigDecimal</td>
</tr>
<tr>
<td>å­—ç¬¦ä¸²ç±»å‹</td>
<td>String</td>
</tr>
<tr>
<td>æ—¶é—´æ—¥æœŸç±»</td>
<td>java.util.Dateã€java.util.Calendarã€java.sql.Dateã€java.sql.Timeã€java.sql.Timestamp</td>
</tr>
<tr>
<td>é›†åˆç±»</td>
<td>java.util.Collectionã€java.util.Listã€java.util.Setã€java.util.Map</td>
</tr>
<tr>
<td>æšä¸¾ç±»å‹</td>
<td></td>
</tr>
<tr>
<td>åµŒå…¥å¼</td>
<td></td>
</tr>
</tbody></table>
<p>å…³äºç±»å‹å…³è”ï¼Œåœ¨æŸ¥è¯¢è¿™ä¸€ç¯‡ä¼šæ›´è¯¦ç»†çš„è¿›è¡Œå±•å¼€è¯´æ˜ï¼Œæ¯”å¦‚æœ‰ä¸ªç‰¹åˆ«æœ‰æ„æ€çš„ç‚¹<br><strong>å¦‚dbä¸­is_deleteä¸º1ï¼Œéœ€è¦æ˜ å°„åˆ°POä¸­çš„falseï¼Œ0æ˜ å°„åˆ°trueï¼Œå’Œæˆ‘ä»¬ä¸Šé¢é»˜è®¤çš„æ˜¯ä¸ªåçš„ï¼Œè¦æ€ä¹ˆæï¼Ÿ</strong></p>
<h4 id="d-æ’å…¥æ—¶æŒ‡å®šID"><a href="#d-æ’å…¥æ—¶æŒ‡å®šID" class="headerlink" title="d. æ’å…¥æ—¶æŒ‡å®šID"></a>d. æ’å…¥æ—¶æŒ‡å®šID</h4><p>å†æ’å…¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸Šé¢çš„caseéƒ½æ˜¯æ²¡æœ‰æŒ‡å®šidçš„ï¼Œä½†æ˜¯å¦‚æœä½ æŒ‡å®šäº†idï¼Œä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Ÿ<br>æˆ‘ä»¬å°†poæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> void add<span class="constructor">WithId()</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">// å•ä¸ªæ·»åŠ </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    MoneyPO moneyPO = <span class="keyword">new</span> <span class="constructor">MoneyPO()</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    moneyPO.set<span class="constructor">Id(20)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    moneyPO.set<span class="constructor">Name(<span class="string">"jpa ä¸€ç°ç° ex"</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    moneyPO.set<span class="constructor">Money(2200L + ((<span class="params">long</span>)</span> (<span class="module-access"><span class="module"><span class="identifier">Math</span>.</span></span>random<span class="literal">()</span><span class="operator"> * </span><span class="number">100</span>)));</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    moneyPO.set<span class="constructor">IsDeleted((<span class="params">byte</span>)</span> <span class="number">0x00</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    MoneyPO res = moneyCreateRepository.save(moneyPO);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">"after insert res: "</span> + res);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>çœ‹ä¸‹è¾“å‡ºç»“æœï¼ŒæƒŠè®¶çš„å‘ç°ï¼Œè¿™ä¸ªæŒ‡å®šidå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œæœ€ç»ˆdbä¸­æ’å…¥çš„è®°å½•ä¾ç„¶æ˜¯è‡ªå¢çš„æ–¹å¼æ¥çš„<br><a href="http://image.winrains.cn/2019/11/cdd5c-04.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/cdd5c-04.jpg" alt="img"></a><br>ä¸ºä»€ä¹ˆä¼šè¿™æ ·å­å‘¢ï¼Œæˆ‘ä»¬çœ‹ä¸‹sqlæ˜¯æ€æ ·çš„<br><a href="http://image.winrains.cn/2019/11/212fb-05.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/212fb-05.jpg" alt="img"></a><br>ç›´æ¥æŠŠidç»™ä¸¢äº†ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è®¾ç½®çš„idä¸ç”Ÿæ•ˆï¼Œæˆ‘ä»¬çŸ¥é“<code>@GeneratedValue</code> è¿™ä¸ªæ³¨è§£æŒ‡å®šäº†idçš„å¢é•¿æ–¹å¼ï¼Œå¦‚æœæˆ‘ä»¬å»æ‰è¿™ä¸ªæ³¨è§£ä¼šæ€æ ·<br><a href="http://image.winrains.cn/2019/11/bd9b5-06.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/bd9b5-06.jpg" alt="img"></a><br>ä»è¾“å‡ºç»“æœæ¥çœ‹ï¼š</p>
<ul>
<li>å¦‚æœè¿™ä¸ªidå¯¹åº”çš„è®°å½•ä¸å­˜åœ¨ï¼Œåˆ™æ–°å¢</li>
<li>å¦‚æœè¿™ä¸ªidå¯¹åº”çš„è®°å½•å­˜åœ¨ï¼Œåˆ™æ›´æ–°</li>
</ul>
<p>ä¸ç„¶è¿™ä¸ªæ³¨è§£å¯ä»¥ä¸»åŠ¨æŒ‡å®šidæ–¹å¼è¿›è¡Œæ’å…¥orä¿®æ”¹ï¼Œé‚£ä¹ˆå¦‚æœæ²¡æœ‰è¿™ä¸ªæ³¨è§£ï¼Œæ’å…¥æ—¶ä¹Ÿä¸æŒ‡å®šidï¼Œä¼šæ€æ ·å‘¢ï¼Ÿ<br>å¾ˆé—æ†¾çš„æ˜¯ç›´æ¥æŠ›å¼‚å¸¸äº†ï¼Œæ²¡æœ‰è¿™ä¸ªæ³¨è§£ï¼Œå°±å¿…é¡»æ‰‹åŠ¨èµ‹å€¼idäº†<br><a href="http://image.winrains.cn/2019/11/ee98c-07.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/ee98c-07.jpg" alt="img"></a></p>
<h3 id="4-å°ç»“"><a href="#4-å°ç»“" class="headerlink" title="4. å°ç»“"></a>4. å°ç»“</h3><p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†ä¸‹å¦‚ä½•ä½¿ç”¨JPAæ¥å®ç°æ’å…¥æ•°æ®ï¼Œå•ä¸ªoræ‰¹é‡æ’å…¥ï¼Œä¹ŸæŠ›å‡ºäº†ä¸€äº›é—®é¢˜ï¼Œæœ‰çš„ç»™å‡ºäº†å›ç­”ï¼Œæœ‰çš„ç­‰å¾…åæ–‡ç»§ç»­è·Ÿè¿›ï¼Œä¸‹é¢ç®€å•å°ç»“ä¸€ä¸‹ä¸»è¦çš„çŸ¥è¯†ç‚¹</p>
<ul>
<li>POJOä¸è¡¨å…³è”æ–¹å¼<ul>
<li>æ³¨æ„å‡ ä¸ªæ³¨è§£çš„ä½¿ç”¨</li>
<li>å¦‚ <code>@Entity</code>, <code>@Table</code> ç”¨äºæŒ‡å®šè¿™ä¸ªPOJOå¯¹åº”å“ªå¼ è¡¨</li>
<li>å¦‚ <code>@Column</code> ç”¨äºPOJOçš„æˆå‘˜å˜é‡ä¸è¡¨ä¸­çš„åˆ—è¿›è¡Œå…³è”</li>
<li>å¦‚ <code>@Id</code> <code>@GeneratedValue</code>æ¥æŒ‡å®šä¸»é”®</li>
<li>POJOæˆå‘˜å˜é‡ç±»å‹ä¸DBè¡¨ä¸­åˆ—çš„å…³ç³»</li>
</ul>
</li>
<li>dbæ’å…¥çš„å‡ ç§å§¿åŠ¿<ul>
<li>save å•ä¸ªæ’å…¥</li>
<li>saveAll æ‰¹é‡æ’å…¥</li>
<li>æ’å…¥æ—¶ï¼Œå¦‚è¦æ±‚DOä¸­æˆå‘˜ä¸ºnullæ—¶ï¼Œç”¨mysqlé»˜è®¤å€¼ï¼Œå¯ä»¥ä½¿ç”¨æ³¨è§£ <code>@DynamicInsert</code>ï¼Œå®ç°æœ€ç»ˆæ‹¼æ¥éƒ¨åˆ†sqlæ–¹å¼æ’å…¥</li>
<li>æŒ‡å®šidæŸ¥è¯¢æ—¶çš„å‡ ç§case</li>
</ul>
</li>
</ul>
<p>æ­¤å¤–æœ¬æ–‡è¿˜ç•™äº†å‡ ä¸ªå‘æ²¡æœ‰å¡«</p>
<ul>
<li>POJOæˆå‘˜ç±»å‹ä¸è¡¨åˆ—ç±»å‹æ›´çµæ´»çš„è½¬æ¢æ€ä¹ˆç©ï¼Ÿ</li>
<li>save ä¸ saveAndFlush ä¹‹é—´çš„åŒºåˆ«ï¼ˆä»å‘½åä¸Šï¼Œå‰è€…ä¿å­˜ï¼Œå¯èƒ½åªä¿å­˜å†…å­˜ï¼Œä¸ä¸€å®šè½åº“ï¼›åè€…ä¿å­˜å¹¶è½åº“ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°éªŒè¯ä»–ä»¬åŒºåˆ«çš„å®ä¾‹ä»£ç ï¼Œæ‰€ä»¥å…ˆä¸äºˆè¯„ä»·ï¼‰</li>
<li>æ³¨è§£çš„æ›´è¯¦ç»†ä½¿ç”¨è¯´æ˜</li>
</ul>
<blockquote>
<p>ä½œè€…ï¼šä¸€ç°ç°Blog</p>
<p>æ¥æºï¼š<a href="http://spring.hhui.top/spring-blog/2019/06/14/190614-SpringBoot%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8BJPA%E4%B9%8B%E6%96%B0%E5%A2%9E%E8%AE%B0%E5%BD%95%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF/" target="_blank" rel="noopener">http://spring.hhui.top/spring-blog/2019/06/14/190614-SpringBoot%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8BJPA%E4%B9%8B%E6%96%B0%E5%A2%9E%E8%AE%B0%E5%BD%95%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF/</a></p>
</blockquote>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/01/08/Spring-Boot-%E9%AB%98%E7%BA%A7%E7%AF%87-JPA%EF%BC%881%EF%BC%89%EF%BC%9A%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" rel="prev" title="Spring Boot é«˜çº§ç¯‡--JPAï¼ˆ1ï¼‰ï¼šåŸºç¡€ç¯å¢ƒæ­å»º">
      <i class="fa fa-chevron-left"></i> Spring Boot é«˜çº§ç¯‡--JPAï¼ˆ1ï¼‰ï¼šåŸºç¡€ç¯å¢ƒæ­å»º
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/01/08/Spring-Boot-%E9%AB%98%E7%BA%A7%E7%AF%87-JPA%EF%BC%883%EF%BC%89%EF%BC%9Aupdate%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF/" rel="next" title="Spring Boot é«˜çº§ç¯‡--JPAï¼ˆ3ï¼‰ï¼šupdateä½¿ç”¨å§¿åŠ¿">
      Spring Boot é«˜çº§ç¯‡--JPAï¼ˆ3ï¼‰ï¼šupdateä½¿ç”¨å§¿åŠ¿ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#I-ç¯å¢ƒå‡†å¤‡"><span class="nav-number">1.</span> <span class="nav-text">I. ç¯å¢ƒå‡†å¤‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-è¡¨å‡†å¤‡"><span class="nav-number">1.1.</span> <span class="nav-text">1. è¡¨å‡†å¤‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-é¡¹ç›®é…ç½®"><span class="nav-number">1.2.</span> <span class="nav-text">2. é¡¹ç›®é…ç½®</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#II-Insertä½¿ç”¨æ•™ç¨‹"><span class="nav-number">2.</span> <span class="nav-text">II. Insertä½¿ç”¨æ•™ç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-POJOä¸è¡¨å…³è”"><span class="nav-number">2.1.</span> <span class="nav-text">1. POJOä¸è¡¨å…³è”</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-entityæ³¨è§£"><span class="nav-number">2.1.1.</span> <span class="nav-text">a. entityæ³¨è§£</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-ä¸»é”®æŒ‡å®š"><span class="nav-number">2.1.2.</span> <span class="nav-text">b. ä¸»é”®æŒ‡å®š</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-Columnæ³¨è§£"><span class="nav-number">2.1.3.</span> <span class="nav-text">c. Columnæ³¨è§£</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#d-CreateDateæ³¨è§£"><span class="nav-number">2.1.4.</span> <span class="nav-text">d. CreateDateæ³¨è§£</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#e-å…¶ä»–"><span class="nav-number">2.1.5.</span> <span class="nav-text">e. å…¶ä»–</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Repository-APIå£°æ˜"><span class="nav-number">2.2.</span> <span class="nav-text">2. Repository APIå£°æ˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-ä½¿ç”¨å§¿åŠ¿"><span class="nav-number">2.3.</span> <span class="nav-text">3. ä½¿ç”¨å§¿åŠ¿</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-åŸºç¡€ä½¿ç”¨case"><span class="nav-number">2.3.1.</span> <span class="nav-text">a. åŸºç¡€ä½¿ç”¨case</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-æ’å…¥æ—¶é»˜è®¤å€¼æ”¯æŒæ–¹å¼"><span class="nav-number">2.3.2.</span> <span class="nav-text">b. æ’å…¥æ—¶é»˜è®¤å€¼æ”¯æŒæ–¹å¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-ç±»å‹å…³è”"><span class="nav-number">2.3.3.</span> <span class="nav-text">c. ç±»å‹å…³è”</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#d-æ’å…¥æ—¶æŒ‡å®šID"><span class="nav-number">2.3.4.</span> <span class="nav-text">d. æ’å…¥æ—¶æŒ‡å®šID</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-å°ç»“"><span class="nav-number">2.4.</span> <span class="nav-text">4. å°ç»“</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">congsheng.wang</p>
  <div class="site-description" itemprop="description">trouble is a friend</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">807</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">91</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">141</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">congsheng.wang</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.6.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  




  <script src="/js/local-search.js"></script>












  

  

</body>
</html>
