<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://congsheng.wang').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="上一篇我们介绍了使用 Hystrix Dashboard 来展示 Hystrix 用于熔断的各项度量指标。通过 Hystrix Dashboard，我们可以方便的查看服务实例的综合情况，比如：服务调用次数、服务调用延迟等。但是仅通过 Hystrix Dashboard 我们只能实现对服务当个实例的数据展现，在生产环境我们的服务是肯定需要做高可用的，那么对于多实例的情况，我们就需要将这些度量指标数据">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Cloud（6）：Hystrix 监控数据聚合 Turbine【Finchley 版】">
<meta property="og:url" content="http:&#x2F;&#x2F;congsheng.wang&#x2F;2020&#x2F;01&#x2F;10&#x2F;Spring-Cloud%EF%BC%886%EF%BC%89%EF%BC%9AHystrix-%E7%9B%91%E6%8E%A7%E6%95%B0%E6%8D%AE%E8%81%9A%E5%90%88-Turbine%E3%80%90Finchley-%E7%89%88%E3%80%91&#x2F;index.html">
<meta property="og:site_name" content="个人博客">
<meta property="og:description" content="上一篇我们介绍了使用 Hystrix Dashboard 来展示 Hystrix 用于熔断的各项度量指标。通过 Hystrix Dashboard，我们可以方便的查看服务实例的综合情况，比如：服务调用次数、服务调用延迟等。但是仅通过 Hystrix Dashboard 我们只能实现对服务当个实例的数据展现，在生产环境我们的服务是肯定需要做高可用的，那么对于多实例的情况，我们就需要将这些度量指标数据">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;61adf-006tNc79ly1fqekbdszlgj30vm0eq75c.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;3f8c1-006tNc79ly1fqekjxtja6j31140erabk.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;208ea-006tNc79ly1fqeklbqeg5j31310ewdhe.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;9f7b8-hystrix-dashboard.png">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;d779a-006tNc79ly1fqes6fk76xj31kw0v97bj.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;9d33a-006tNc79ly1fqes8rrtu3j31kw0v9tfh.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;2f1e7-006tKfTcly1fr20g560dgj31880b40ws.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;21ece-006tKfTcly1fr20nsl636j31kw0erjwb.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;3c131-006tKfTcly1fr20qkadxsj31dk0iydn1.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;77b30-006tKfTcly1fr21ws6q6kj31fc08642r.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;e2cce-006tKfTcly1fr2219kxxqj31kw0jv10k.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;708de-006tKfTcly1fr22bszw5qj31bi0uegvd.jpg">
<meta property="og:updated_time" content="2020-01-10T14:04:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;11&#x2F;61adf-006tNc79ly1fqekbdszlgj30vm0eq75c.jpg">

<link rel="canonical" href="http://congsheng.wang/2020/01/10/Spring-Cloud%EF%BC%886%EF%BC%89%EF%BC%9AHystrix-%E7%9B%91%E6%8E%A7%E6%95%B0%E6%8D%AE%E8%81%9A%E5%90%88-Turbine%E3%80%90Finchley-%E7%89%88%E3%80%91/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Spring Cloud（6）：Hystrix 监控数据聚合 Turbine【Finchley 版】 | 个人博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">congsheng的博客</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">156</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">94</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">984</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://congsheng.wang/2020/01/10/Spring-Cloud%EF%BC%886%EF%BC%89%EF%BC%9AHystrix-%E7%9B%91%E6%8E%A7%E6%95%B0%E6%8D%AE%E8%81%9A%E5%90%88-Turbine%E3%80%90Finchley-%E7%89%88%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="congsheng.wang">
      <meta itemprop="description" content="trouble is a friend">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Spring Cloud（6）：Hystrix 监控数据聚合 Turbine【Finchley 版】
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-10 22:04:40" itemprop="dateCreated datePublished" datetime="2020-01-10T22:04:40+08:00">2020-01-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">Spring技术</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring%E6%8A%80%E6%9C%AF/Spring-Cloud/" itemprop="url" rel="index">
                    <span itemprop="name">Spring Cloud</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><a href="https://windmt.com/2018/04/16/spring-cloud-5-hystrix-dashboard/" target="_blank" rel="noopener">上一篇</a>我们介绍了使用 Hystrix Dashboard 来展示 Hystrix 用于熔断的各项度量指标。通过 Hystrix Dashboard，我们可以方便的查看服务实例的综合情况，比如：服务调用次数、服务调用延迟等。但是仅通过 Hystrix Dashboard 我们只能实现对服务当个实例的数据展现，在生产环境我们的服务是肯定需要做高可用的，那么对于多实例的情况，我们就需要将这些度量指标数据进行聚合。下面，在本篇中，我们就来介绍一下另外一个工具：Turbine。</p>
<a id="more"></a>

<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>在开始使用 Turbine 之前，我们先回顾一下上一篇中实现的架构，如下图所示：<br><a href="http://image.winrains.cn/2019/11/61adf-006tNc79ly1fqekbdszlgj30vm0eq75c.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/61adf-006tNc79ly1fqekbdszlgj30vm0eq75c.jpg" alt="img"></a><br>其中，我们构建的内容包括：</p>
<ul>
<li>eureka-server：服务注册中心</li>
<li>eureka-producer：服务提供者</li>
<li>eureka-consumer-hystrix：使用 Feign 和 Hystrix 实现的服务消费者</li>
<li>hystrix-dashboard：用于展示 <code>eureka-consumer-hystrix</code> 服务的 Hystrix 数据</li>
</ul>
<h1 id="创建-Turbine"><a href="#创建-Turbine" class="headerlink" title="创建 Turbine"></a>创建 Turbine</h1><p>下面，我们将在上述架构基础上，引入 Turbine 来对服务的 Hystrix 数据进行聚合展示。 这里我们将分别介绍两种聚合方式。</p>
<h2 id="通过-HTTP-收集聚合"><a href="#通过-HTTP-收集聚合" class="headerlink" title="通过 HTTP 收集聚合"></a>通过 HTTP 收集聚合</h2><p>创建一个标准的 Spring Boot 工程，命名为：turbine。</p>
<h3 id="POM-配置"><a href="#POM-配置" class="headerlink" title="POM 配置"></a>POM 配置</h3><p>在 pom.xml 中添加以下依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-turbine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></pre></td></tr></table></figure>

<h3 id="启动类"><a href="#启动类" class="headerlink" title="启动类"></a>启动类</h3><p>在启动类上使用 <code>@EnableTurbine</code> 注解开启 Turbine</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@EnableTurbine</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@SpringBootApplication</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">public class TurbineApplication &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="selector-tag">public</span> <span class="selector-tag">static</span> <span class="selector-tag">void</span> <span class="selector-tag">main</span>(String[] args) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        <span class="selector-tag">SpringApplication</span><span class="selector-class">.run</span>(TurbineApplication.class, args);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><p>在 application.yml 加入 Eureka 和 Turbine 的相关配置</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attr">application:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="attr">name:</span> <span class="string">turbine</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="attr">management:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="attr">client:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    <span class="attr">service-url:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:7000/eureka/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="attr">turbine:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  <span class="attr">app-config:</span> <span class="string">eureka-consumer-hystrix</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  <span class="attr">cluster-name-expression:</span> <span class="string">new</span> <span class="string">String("default")</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">  <span class="attr">combine-host-port:</span> <span class="literal">true</span></span></pre></td></tr></table></figure>

<p><strong>参数说明</strong></p>
<ul>
<li><code>turbine.app-config</code> 参数指定了需要收集监控信息的服务名；</li>
<li><code>turbine.cluster-name-expression</code> 参数指定了集群名称为 <code>default</code>，当我们服务数量非常多的时候，可以启动多个 Turbine 服务来构建不同的聚合集群，而该参数可以用来区分这些不同的聚合集群，同时该参数值可以在 Hystrix 仪表盘中用来定位不同的聚合集群，只需要在 Hystrix Stream 的 URL 中通过 cluster 参数来指定；</li>
<li><code>turbine.combine-host-port</code> 参数设置为 <code>true</code>，可以让同一主机上的服务通过主机名与端口号的组合来进行区分，默认情况下会以 host 来区分不同的服务，这会使得在本地调试的时候，本机上的不同服务聚合成一个服务来统计。</li>
</ul>
<p>注意：<code>new String(&quot;default&quot;)</code> 这个一定要用 String 来包一下，否则启动的时候会抛出异常：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property <span class="keyword">or</span> field <span class="string">'default'</span> cannot be found on object of<span class="built_in"> type </span><span class="string">'com.netflix.appinfo.InstanceInfo'</span> - maybe <span class="keyword">not</span> public <span class="keyword">or</span> <span class="keyword">not</span> valid?</span></pre></td></tr></table></figure>

<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>在完成了上面的内容构建之后，我们来体验一下 Turbine 对集群的监控能力。分别启动</p>
<ul>
<li>eureka-server</li>
<li>eureka-producer</li>
<li>eureka-consumer-hystrix</li>
<li>turbine</li>
<li>hystrix-dashboard</li>
</ul>
<p>访问 <a href="http://localhost:11000/hystrix" target="_blank" rel="noopener">Hystrix Dashboard</a> 并开启对 <a href="http://localhost:8080/turbine.stream" target="_blank" rel="noopener">http://localhost:8080/turbine.stream</a> 的监控，这时候，我们将看到针对服务 <code>eureka-consumer-hystrix</code> 的聚合监控数据。<br>此时的架构如下图所示：<br><a href="http://image.winrains.cn/2019/11/3f8c1-006tNc79ly1fqekjxtja6j31140erabk.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/3f8c1-006tNc79ly1fqekjxtja6j31140erabk.jpg" alt="img"></a></p>
<h2 id="通过消息代理收集聚合"><a href="#通过消息代理收集聚合" class="headerlink" title="通过消息代理收集聚合"></a>通过消息代理收集聚合</h2><p>Spring Cloud 在封装 Turbine 的时候，还实现了基于消息代理的收集实现。所以，我们可以将所有需要收集的监控信息都输出到消息代理中，然后 Turbine 服务再从消息代理中异步的获取这些监控信息，最后将这些监控信息聚合并输出到 Hystrix Dashboard 中。通过引入消息代理，我们的 Turbine 和 Hystrix Dashoard 实现的监控架构可以改成如下图所示的结构：<br><a href="http://image.winrains.cn/2019/11/208ea-006tNc79ly1fqeklbqeg5j31310ewdhe.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/208ea-006tNc79ly1fqeklbqeg5j31310ewdhe.jpg" alt="img"></a><br>从图中我们可以看到，这里多了一个重要元素：RabbitMQ。对于 RabbitMQ 的安装与基本时候我们可以查看之前的 <a href="https://windmt.com/2018/04/12/rabbitmq-1-hello-world/" target="_blank" rel="noopener">MQ 系列</a>，这里不做过多的说明。下面，我们可以来构建一个新的应用来实现基于消息代理的 Turbine 聚合服务。<br>关于通过 MQ 的聚合，在 Finchley.RC1 版本下有好多坑，好在最后能正常运行了。</p>
<h3 id="Turbine-Stream"><a href="#Turbine-Stream" class="headerlink" title="Turbine Stream"></a>Turbine Stream</h3><p><strong>UPDATED：2018-06-01</strong><br>Finchley.RC2 已经出了，下边提到的 bug 都已经被修复了，直接添加 <code>@EnableTurbineStream</code> 就可以正常使用了。最新代码实例请看：<a href="https://github.com/zhaoyibo/spring-cloud-study/tree/master/turbine-stream" target="_blank" rel="noopener">https://github.com/zhaoyibo/spring-cloud-study/tree/master/turbine-stream</a><br><a href="http://image.winrains.cn/2019/11/9f7b8-hystrix-dashboard.png" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/9f7b8-hystrix-dashboard.png" alt="img"></a><br>需要注意一点的是，Turbine Stream 默认的端口已经从 8989 改为 8080 了。<br><strong>UPDATED：2018-05-18</strong><br><strong>以下关于 Turbine Stream 的内容仅适用于 Finchley.RC1 版本。今天尝试一下最新的 Finchley.BUILD-SNAPSHOT 发现 netty 的默认端口已经从 8989 改到 8080，并且需要依赖 <code>spring-cloud-starter-netflix-hystrix</code>，因为目前 BUILD-SNAPSHOT 依旧有 bug 不确定他们会怎么改，我就暂时先不更新了。等到 RC2 release 的时候再来更新一发。</strong><br>创建一个标准的 Spring Boot 工程，命名为：turbine-stream-rabbitmq</p>
<h4 id="POM"><a href="#POM" class="headerlink" title="POM"></a>POM</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-turbine-stream<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-stream-rabbit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></pre></td></tr></table></figure>

<h4 id="配置文件-1"><a href="#配置文件-1" class="headerlink" title="配置文件"></a>配置文件</h4><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="attribute">spring</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">application</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">name</span>: turbine-stream-rabbitmq</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="attribute">eureka</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">client</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">service-url</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      <span class="attribute">defaultZone</span>: <span class="attribute">http</span>:<span class="comment">//localhost:7000/eureka/</span></span></pre></td></tr></table></figure>

<h4 id="启动类-1"><a href="#启动类-1" class="headerlink" title="启动类"></a>启动类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableTurbineStream</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TurbineStreamRabbitmqApplication</span> </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        SpringApplication.run(TurbineStreamRabbitmqApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">public</span> ConfigurableCompositeMessageConverter <span class="title">integrationArgumentResolverMessageConverter</span><span class="params">(CompositeMessageConverterFactory factory)</span> </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ConfigurableCompositeMessageConverter(factory.getMessageConverterForAllRegistered().getConverters());</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="改造服务调用者"><a href="#改造服务调用者" class="headerlink" title="改造服务调用者"></a>改造服务调用者</h3><p>以之前的 eureka-consumer-hystrix 项目为基础，在 pom.xml 里加入以下依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-netflix-hystrix-stream<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-stream-rabbit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></pre></td></tr></table></figure>

<p>再在启动类上加上 <code>@EnableHystrix</code> 注解</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@EnableHystrix</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@EnableFeignClients</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@SpringBootApplication</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">public class EurekaConsumerHystrixApplication &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="selector-tag">public</span> <span class="selector-tag">static</span> <span class="selector-tag">void</span> <span class="selector-tag">main</span>(String[] args) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        <span class="selector-tag">SpringApplication</span><span class="selector-class">.run</span>(EurekaConsumerHystrixApplication.class, args);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h3><p>分别启动 eureka-consumer-hystrix、turbine-stream-rabbitmq 这两个项目，然后在 RabbitMQ 的管理后台可以看到，自动创建了一个 Exchange 和 Queue<br><a href="http://image.winrains.cn/2019/11/d779a-006tNc79ly1fqes6fk76xj31kw0v97bj.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/d779a-006tNc79ly1fqes6fk76xj31kw0v97bj.jpg" alt="img"></a><br><a href="http://image.winrains.cn/2019/11/9d33a-006tNc79ly1fqes8rrtu3j31kw0v9tfh.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/9d33a-006tNc79ly1fqes8rrtu3j31kw0v9tfh.jpg" alt="img"></a><br>看到这还是挺高兴的，但是……<br>当访问了一下 consumer 中的接口后，就开始了艰辛的爬坑路程……</p>
<h3 id="遇到的坑"><a href="#遇到的坑" class="headerlink" title="遇到的坑"></a>遇到的坑</h3><h4 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h4><p>这个 Turbine Stream 之前应该是叫 Turbine AMQP，当时有个 spring-cloud-starter-turbine-amqp 依赖可以用，里边包装了相关的依赖，但是现在它被 deprecated 了，让用 spring-cloud-starter-netflix-turbine-stream 来代替，这就得靠自己来组合了。而坑主要就出在这里，至于哪些是必须的，哪些是添加了后就出问题的，还有依赖冲突的问题，都得靠自己来搞了。</p>
<h4 id="JsonParseException"><a href="#JsonParseException" class="headerlink" title="JsonParseException"></a>JsonParseException</h4><blockquote>
<p>相关 issue：<a href="https://github.com/spring-cloud/spring-cloud-netflix/issues/2858" target="_blank" rel="noopener">https://github.com/spring-cloud/spring-cloud-netflix/issues/2858</a></p>
</blockquote>
<p>Turbine Stream 从 RabbitMQ 取数据的时候抛出以下异常：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">com.fasterxml.jackson.core.JsonParseException: Unexpected character (<span class="string">','</span> (code <span class="number">44</span>)): Expected space separating root-level values</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> at [Source: (String)<span class="string">"123,34,111,114,105,103,105,110,34,58,123,34,104,111,115,116,34,58,34,49,55,50,46,49,54,46,49,48,54,46,57,51,34,44,34,112,111,114,116,34,58,57,48,49,51,44,34,115,101,114,118,105,99,101,73,100,34,58,34,101,117,114,101,107,97,45,99,111,110,115,117,109,101,114,45,104,121,115,116,114,105,120,34,44,34,105,100,34,58,34,97,112,112,108,105,99,97,116,105,111,110,45,49,34,125,44,34,101,118,101,110,116,34,58,34,109,101,115,115,97,103,101,34,44,34,100,97,116,97,34,58,123,34,116,121,112,101,34,58,34,72,121,11"</span>[truncated <span class="number">6105</span> chars]; line: <span class="number">1</span>, column: <span class="number">5</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:<span class="number">1798</span>) ~[jackson-core<span class="number">-2.9</span><span class="number">.3</span>.jar:<span class="number">2.9</span><span class="number">.3</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:<span class="number">663</span>) ~[jackson-core<span class="number">-2.9</span><span class="number">.3</span>.jar:<span class="number">2.9</span><span class="number">.3</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:<span class="number">561</span>) ~[jackson-core<span class="number">-2.9</span><span class="number">.3</span>.jar:<span class="number">2.9</span><span class="number">.3</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportMissingRootWS(ParserMinimalBase.java:<span class="number">608</span>) ~[jackson-core<span class="number">-2.9</span><span class="number">.3</span>.jar:<span class="number">2.9</span><span class="number">.3</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._verifyRootSpace(ReaderBasedJsonParser.java:<span class="number">1654</span>) ~[jackson-core<span class="number">-2.9</span><span class="number">.3</span>.jar:<span class="number">2.9</span><span class="number">.3</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._parsePosNumber(ReaderBasedJsonParser.java:<span class="number">1297</span>) ~[jackson-core<span class="number">-2.9</span><span class="number">.3</span>.jar:<span class="number">2.9</span><span class="number">.3</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:<span class="number">744</span>) ~[jackson-core<span class="number">-2.9</span><span class="number">.3</span>.jar:<span class="number">2.9</span><span class="number">.3</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:<span class="number">4129</span>) ~[jackson-databind<span class="number">-2.9</span><span class="number">.3</span>.jar:<span class="number">2.9</span><span class="number">.3</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:<span class="number">3988</span>) ~[jackson-databind<span class="number">-2.9</span><span class="number">.3</span>.jar:<span class="number">2.9</span><span class="number">.3</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:<span class="number">2992</span>) ~[jackson-databind<span class="number">-2.9</span><span class="number">.3</span>.jar:<span class="number">2.9</span><span class="number">.3</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.cloud.netflix.turbine.stream.HystrixStreamAggregator.sendToSubject(HystrixStreamAggregator.java:<span class="number">73</span>) ~[spring-cloud-netflix-turbine-stream<span class="number">-2.0</span><span class="number">.0</span>.M8.jar:<span class="number">2.0</span><span class="number">.0</span>.M8]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    at sun.<span class="built_in">ref</span>lect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:<span class="number">1.8</span><span class="number">.0</span>_161]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    at sun.<span class="built_in">ref</span>lect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:<span class="number">62</span>) ~[na:<span class="number">1.8</span><span class="number">.0</span>_161]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    at sun.<span class="built_in">ref</span>lect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>) ~[na:<span class="number">1.8</span><span class="number">.0</span>_161]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    at java.lang.<span class="built_in">ref</span>lect.Method.invoke(Method.java:<span class="number">498</span>) ~[na:<span class="number">1.8</span><span class="number">.0</span>_161]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:<span class="number">120</span>) [spring-expression<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:<span class="number">111</span>) [spring-expression<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.expression.spel.ast.MethodReference.access$<span class="number">000</span>(MethodReference.java:<span class="number">54</span>) [spring-expression<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:<span class="number">384</span>) [spring-expression<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:<span class="number">89</span>) [spring-expression<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:<span class="number">116</span>) [spring-expression<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:<span class="number">371</span>) [spring-expression<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:<span class="number">169</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:<span class="number">157</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.util.MessagingMethodInvokerHelper.invokeExpression(MessagingMethodInvokerHelper.java:<span class="number">614</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.util.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:<span class="number">605</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.util.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:<span class="number">468</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.util.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:<span class="number">312</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:<span class="number">104</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:<span class="number">93</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:<span class="number">109</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:<span class="number">158</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:<span class="number">116</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:<span class="number">132</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:<span class="number">105</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:<span class="number">73</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:<span class="number">445</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:<span class="number">394</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:<span class="number">181</span>) [spring-messaging<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:<span class="number">160</span>) [spring-messaging<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:<span class="number">47</span>) [spring-messaging<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:<span class="number">108</span>) [spring-messaging<span class="number">-5.0</span><span class="number">.5</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.5</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:<span class="number">203</span>) [spring-<span class="built_in">int</span>egration-core<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.amqp.inbound.AmqpInboundChannelAdapter.access$<span class="number">1100</span>(AmqpInboundChannelAdapter.java:<span class="number">59</span>) [spring-<span class="built_in">int</span>egration-amqp<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.amqp.inbound.AmqpInboundChannelAdapter$Listener.lambda$onMessage$<span class="number">0</span>(AmqpInboundChannelAdapter.java:<span class="number">217</span>) [spring-<span class="built_in">int</span>egration-amqp<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:<span class="number">287</span>) ~[spring-retry<span class="number">-1.2</span><span class="number">.2</span>.RELEASE.jar:na]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:<span class="number">180</span>) ~[spring-retry<span class="number">-1.2</span><span class="number">.2</span>.RELEASE.jar:na]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.<span class="built_in">int</span>egration.amqp.inbound.AmqpInboundChannelAdapter$Listener.onMessage(AmqpInboundChannelAdapter.java:<span class="number">214</span>) [spring-<span class="built_in">int</span>egration-amqp<span class="number">-5.0</span><span class="number">.4</span>.RELEASE.jar:<span class="number">5.0</span><span class="number">.4</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:<span class="number">1414</span>) ~[spring-rabbit<span class="number">-2.0</span><span class="number">.3</span>.RELEASE.jar:<span class="number">2.0</span><span class="number">.3</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:<span class="number">1337</span>) ~[spring-rabbit<span class="number">-2.0</span><span class="number">.3</span>.RELEASE.jar:<span class="number">2.0</span><span class="number">.3</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:<span class="number">1324</span>) ~[spring-rabbit<span class="number">-2.0</span><span class="number">.3</span>.RELEASE.jar:<span class="number">2.0</span><span class="number">.3</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:<span class="number">1303</span>) ~[spring-rabbit<span class="number">-2.0</span><span class="number">.3</span>.RELEASE.jar:<span class="number">2.0</span><span class="number">.3</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:<span class="number">785</span>) ~[spring-rabbit<span class="number">-2.0</span><span class="number">.3</span>.RELEASE.jar:<span class="number">2.0</span><span class="number">.3</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:<span class="number">769</span>) ~[spring-rabbit<span class="number">-2.0</span><span class="number">.3</span>.RELEASE.jar:<span class="number">2.0</span><span class="number">.3</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$<span class="number">700</span>(SimpleMessageListenerContainer.java:<span class="number">77</span>) ~[spring-rabbit<span class="number">-2.0</span><span class="number">.3</span>.RELEASE.jar:<span class="number">2.0</span><span class="number">.3</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line">    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:<span class="number">1010</span>) ~[spring-rabbit<span class="number">-2.0</span><span class="number">.3</span>.RELEASE.jar:<span class="number">2.0</span><span class="number">.3</span>.RELEASE]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line">    at java.lang.Thread.run(Thread.java:<span class="number">748</span>) ~[na:<span class="number">1.8</span><span class="number">.0</span>_161]</span></pre></td></tr></table></figure>

<p>实际的 json 串类似以下格式：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"origin"</span>:&#123;<span class="attr">"host"</span>:<span class="string">"172.16.106.93"</span>,<span class="attr">"port"</span>:<span class="number">9013</span>,<span class="attr">"serviceId"</span>:<span class="string">"eureka-consumer-hystrix"</span>,<span class="attr">"id"</span>:<span class="string">"application-1"</span>&#125;,<span class="attr">"event"</span>:<span class="string">"message"</span>,<span class="attr">"data"</span>:&#123;<span class="attr">"type"</span>:<span class="string">"HystrixCommand"</span>,<span class="attr">"name"</span>:<span class="string">"eureka-consumer-hystrix.HelloRemote#hello(String)"</span>,<span class="attr">"group"</span>:<span class="string">"eureka-producer"</span>,<span class="attr">"currentTime"</span>:<span class="number">1523938311789</span>,<span class="attr">"isCircuitBreakerOpen"</span>:<span class="literal">false</span>,<span class="attr">"errorPercentage"</span>:<span class="number">0</span>,<span class="attr">"errorCount"</span>:<span class="number">0</span>,<span class="attr">"requestCount"</span>:<span class="number">0</span>,<span class="attr">"rollingCountCollapsedRequests"</span>:<span class="number">0</span>,<span class="attr">"rollingCountExceptionsThrown"</span>:<span class="number">0</span>,<span class="attr">"rollingCountFailure"</span>:<span class="number">0</span>,<span class="attr">"rollingCountFallbackFailure"</span>:<span class="number">0</span>,<span class="attr">"rollingCountFallbackRejection"</span>:<span class="number">0</span>,<span class="attr">"rollingCountFallbackSuccess"</span>:<span class="number">0</span>,<span class="attr">"rollingCountResponsesFromCache"</span>:<span class="number">0</span>,<span class="attr">"rollingCountSemaphoreRejected"</span>:<span class="number">0</span>,<span class="attr">"rollingCountShortCircuited"</span>:<span class="number">0</span>,<span class="attr">"rollingCountSuccess"</span>:<span class="number">0</span>,<span class="attr">"rollingCountThreadPoolRejected"</span>:<span class="number">0</span>,<span class="attr">"rollingCountTimeout"</span>:<span class="number">0</span>,<span class="attr">"currentConcurrentExecutionCount"</span>:<span class="number">1</span>,<span class="attr">"latencyExecute_mean"</span>:<span class="number">0</span>,<span class="attr">"latencyExecute"</span>:&#123;<span class="attr">"0"</span>:<span class="number">0</span>,<span class="attr">"25"</span>:<span class="number">0</span>,<span class="attr">"50"</span>:<span class="number">0</span>,<span class="attr">"75"</span>:<span class="number">0</span>,<span class="attr">"90"</span>:<span class="number">0</span>,<span class="attr">"95"</span>:<span class="number">0</span>,<span class="attr">"99"</span>:<span class="number">0</span>,<span class="attr">"99.5"</span>:<span class="number">0</span>,<span class="attr">"100"</span>:<span class="number">0</span>&#125;,<span class="attr">"latencyTotal_mean"</span>:<span class="number">0</span>,<span class="attr">"latencyTotal"</span>:&#123;<span class="attr">"0"</span>:<span class="number">0</span>,<span class="attr">"25"</span>:<span class="number">0</span>,<span class="attr">"50"</span>:<span class="number">0</span>,<span class="attr">"75"</span>:<span class="number">0</span>,<span class="attr">"90"</span>:<span class="number">0</span>,<span class="attr">"95"</span>:<span class="number">0</span>,<span class="attr">"99"</span>:<span class="number">0</span>,<span class="attr">"99.5"</span>:<span class="number">0</span>,<span class="attr">"100"</span>:<span class="number">0</span>&#125;,<span class="attr">"propertyValue_circuitBreakerRequestVolumeThreshold"</span>:<span class="number">20</span>,<span class="attr">"propertyValue_circuitBreakerSleepWindowInMilliseconds"</span>:<span class="number">5000</span>,<span class="attr">"propertyValue_circuitBreakerErrorThresholdPercentage"</span>:<span class="number">50</span>,<span class="attr">"propertyValue_circuitBreakerForceOpen"</span>:<span class="literal">false</span>,<span class="attr">"propertyValue_circuitBreakerForceClosed"</span>:<span class="literal">false</span>,<span class="attr">"propertyValue_circuitBreakerEnabled"</span>:<span class="literal">true</span>,<span class="attr">"propertyValue_executionIsolationStrategy"</span>:<span class="string">"THREAD"</span>,<span class="attr">"propertyValue_executionIsolationThreadTimeoutInMilliseconds"</span>:<span class="number">1000</span>,<span class="attr">"propertyValue_executionIsolationThreadInterruptOnTimeout"</span>:<span class="literal">true</span>,<span class="attr">"propertyValue_executionIsolationThreadPoolKeyOverride"</span>:<span class="literal">null</span>,<span class="attr">"propertyValue_executionIsolationSemaphoreMaxConcurrentRequests"</span>:<span class="number">10</span>,<span class="attr">"propertyValue_fallbackIsolationSemaphoreMaxConcurrentRequests"</span>:<span class="number">10</span>,<span class="attr">"propertyValue_metricsRollingStatisticalWindowInMilliseconds"</span>:<span class="number">10000</span>,<span class="attr">"propertyValue_requestCacheEnabled"</span>:<span class="literal">true</span>,<span class="attr">"propertyValue_requestLogEnabled"</span>:<span class="literal">true</span>,<span class="attr">"reportingHosts"</span>:<span class="number">1</span>&#125;&#125;</span></pre></td></tr></table></figure>

<p>上边这串字符串转为 byte [] 后就是</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="number">123</span>,<span class="number">34</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">105</span>,<span class="number">103</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">123</span>,<span class="number">34</span>,<span class="number">104</span>,<span class="number">111</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">34</span>,<span class="number">49</span>,<span class="number">55</span>,<span class="number">50</span>,<span class="number">46</span>,<span class="number">49</span>,<span class="number">54</span>,<span class="number">46</span>,<span class="number">49</span>,<span class="number">48</span>,<span class="number">54</span>,<span class="number">46</span>,<span class="number">57</span>,<span class="number">51</span>,<span class="number">34</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">57</span>,<span class="number">48</span>,<span class="number">49</span>,<span class="number">51</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">118</span>,<span class="number">105</span>,<span class="number">99</span>,<span class="number">101</span>,<span class="number">73</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">34</span>,<span class="number">101</span>,<span class="number">117</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">107</span>,<span class="number">97</span>,<span class="number">45</span>,<span class="number">99</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">115</span>,<span class="number">117</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">45</span>,<span class="number">104</span>,<span class="number">121</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">105</span>,<span class="number">120</span>,<span class="number">34</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">105</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">34</span>,<span class="number">97</span>,<span class="number">112</span>,<span class="number">112</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">99</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">45</span>,<span class="number">49</span>,<span class="number">34</span>,<span class="number">125</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">101</span>,<span class="number">118</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">34</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">115</span>,<span class="number">97</span>,<span class="number">103</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">100</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">97</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">123</span>,<span class="number">34</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">34</span>,<span class="number">72</span>,<span class="number">121</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">105</span>,<span class="number">120</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">109</span>,<span class="number">109</span>,<span class="number">97</span>,<span class="number">110</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">110</span>,<span class="number">97</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">34</span>,<span class="number">101</span>,<span class="number">117</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">107</span>,<span class="number">97</span>,<span class="number">45</span>,<span class="number">99</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">115</span>,<span class="number">117</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">45</span>,<span class="number">104</span>,<span class="number">121</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">105</span>,<span class="number">120</span>,<span class="number">46</span>,<span class="number">72</span>,<span class="number">101</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">111</span>,<span class="number">82</span>,<span class="number">101</span>,<span class="number">109</span>,<span class="number">111</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">35</span>,<span class="number">104</span>,<span class="number">101</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">111</span>,<span class="number">40</span>,<span class="number">83</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">41</span>,<span class="number">34</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">103</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">112</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">34</span>,<span class="number">101</span>,<span class="number">117</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">107</span>,<span class="number">97</span>,<span class="number">45</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">100</span>,<span class="number">117</span>,<span class="number">99</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">34</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">114</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">84</span>,<span class="number">105</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">49</span>,<span class="number">53</span>,<span class="number">50</span>,<span class="number">51</span>,<span class="number">57</span>,<span class="number">51</span>,<span class="number">56</span>,<span class="number">56</span>,<span class="number">57</span>,<span class="number">49</span>,<span class="number">55</span>,<span class="number">53</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">105</span>,<span class="number">115</span>,<span class="number">67</span>,<span class="number">105</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">105</span>,<span class="number">116</span>,<span class="number">66</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">107</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">79</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">102</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">80</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">97</span>,<span class="number">103</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">113</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">112</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">100</span>,<span class="number">82</span>,<span class="number">101</span>,<span class="number">113</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">115</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">69</span>,<span class="number">120</span>,<span class="number">99</span>,<span class="number">101</span>,<span class="number">112</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">115</span>,<span class="number">84</span>,<span class="number">104</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">119</span>,<span class="number">110</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">70</span>,<span class="number">97</span>,<span class="number">105</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">70</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">98</span>,<span class="number">97</span>,<span class="number">99</span>,<span class="number">107</span>,<span class="number">70</span>,<span class="number">97</span>,<span class="number">105</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">70</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">98</span>,<span class="number">97</span>,<span class="number">99</span>,<span class="number">107</span>,<span class="number">82</span>,<span class="number">101</span>,<span class="number">106</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">70</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">98</span>,<span class="number">97</span>,<span class="number">99</span>,<span class="number">107</span>,<span class="number">83</span>,<span class="number">117</span>,<span class="number">99</span>,<span class="number">99</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">115</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">82</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">112</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">70</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">109</span>,<span class="number">67</span>,<span class="number">97</span>,<span class="number">99</span>,<span class="number">104</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">83</span>,<span class="number">101</span>,<span class="number">109</span>,<span class="number">97</span>,<span class="number">112</span>,<span class="number">104</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">82</span>,<span class="number">101</span>,<span class="number">106</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">83</span>,<span class="number">104</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">67</span>,<span class="number">105</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">105</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">83</span>,<span class="number">117</span>,<span class="number">99</span>,<span class="number">99</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">115</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">84</span>,<span class="number">104</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">100</span>,<span class="number">80</span>,<span class="number">111</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">82</span>,<span class="number">101</span>,<span class="number">106</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">84</span>,<span class="number">105</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">114</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">114</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">69</span>,<span class="number">120</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">49</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">99</span>,<span class="number">121</span>,<span class="number">69</span>,<span class="number">120</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">110</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">99</span>,<span class="number">121</span>,<span class="number">69</span>,<span class="number">120</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">123</span>,<span class="number">34</span>,<span class="number">48</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">50</span>,<span class="number">53</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">53</span>,<span class="number">48</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">55</span>,<span class="number">53</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">57</span>,<span class="number">48</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">57</span>,<span class="number">53</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">57</span>,<span class="number">57</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">57</span>,<span class="number">57</span>,<span class="number">46</span>,<span class="number">53</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">49</span>,<span class="number">48</span>,<span class="number">48</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">125</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">99</span>,<span class="number">121</span>,<span class="number">84</span>,<span class="number">111</span>,<span class="number">116</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">95</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">110</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">99</span>,<span class="number">121</span>,<span class="number">84</span>,<span class="number">111</span>,<span class="number">116</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">123</span>,<span class="number">34</span>,<span class="number">48</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">50</span>,<span class="number">53</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">53</span>,<span class="number">48</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">55</span>,<span class="number">53</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">57</span>,<span class="number">48</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">57</span>,<span class="number">53</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">57</span>,<span class="number">57</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">57</span>,<span class="number">57</span>,<span class="number">46</span>,<span class="number">53</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">49</span>,<span class="number">48</span>,<span class="number">48</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">125</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">99</span>,<span class="number">105</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">105</span>,<span class="number">116</span>,<span class="number">66</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">107</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">82</span>,<span class="number">101</span>,<span class="number">113</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">86</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">84</span>,<span class="number">104</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">104</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">50</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">99</span>,<span class="number">105</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">105</span>,<span class="number">116</span>,<span class="number">66</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">107</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">83</span>,<span class="number">108</span>,<span class="number">101</span>,<span class="number">101</span>,<span class="number">112</span>,<span class="number">87</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">100</span>,<span class="number">111</span>,<span class="number">119</span>,<span class="number">73</span>,<span class="number">110</span>,<span class="number">77</span>,<span class="number">105</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">100</span>,<span class="number">115</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">53</span>,<span class="number">48</span>,<span class="number">48</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">99</span>,<span class="number">105</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">105</span>,<span class="number">116</span>,<span class="number">66</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">107</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">69</span>,<span class="number">114</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">84</span>,<span class="number">104</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">104</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">100</span>,<span class="number">80</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">97</span>,<span class="number">103</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">53</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">99</span>,<span class="number">105</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">105</span>,<span class="number">116</span>,<span class="number">66</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">107</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">70</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">101</span>,<span class="number">79</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">102</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">99</span>,<span class="number">105</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">105</span>,<span class="number">116</span>,<span class="number">66</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">107</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">70</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">101</span>,<span class="number">67</span>,<span class="number">108</span>,<span class="number">111</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">102</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">99</span>,<span class="number">105</span>,<span class="number">114</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">105</span>,<span class="number">116</span>,<span class="number">66</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">107</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">69</span>,<span class="number">110</span>,<span class="number">97</span>,<span class="number">98</span>,<span class="number">108</span>,<span class="number">101</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">101</span>,<span class="number">120</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">73</span>,<span class="number">115</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">83</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">103</span>,<span class="number">121</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">34</span>,<span class="number">84</span>,<span class="number">72</span>,<span class="number">82</span>,<span class="number">69</span>,<span class="number">65</span>,<span class="number">68</span>,<span class="number">34</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">101</span>,<span class="number">120</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">73</span>,<span class="number">115</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">84</span>,<span class="number">104</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">100</span>,<span class="number">84</span>,<span class="number">105</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">73</span>,<span class="number">110</span>,<span class="number">77</span>,<span class="number">105</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">100</span>,<span class="number">115</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">49</span>,<span class="number">48</span>,<span class="number">48</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">101</span>,<span class="number">120</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">73</span>,<span class="number">115</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">84</span>,<span class="number">104</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">100</span>,<span class="number">73</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">114</span>,<span class="number">117</span>,<span class="number">112</span>,<span class="number">116</span>,<span class="number">79</span>,<span class="number">110</span>,<span class="number">84</span>,<span class="number">105</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">111</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">101</span>,<span class="number">120</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">73</span>,<span class="number">115</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">84</span>,<span class="number">104</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">97</span>,<span class="number">100</span>,<span class="number">80</span>,<span class="number">111</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">75</span>,<span class="number">101</span>,<span class="number">121</span>,<span class="number">79</span>,<span class="number">118</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">114</span>,<span class="number">105</span>,<span class="number">100</span>,<span class="number">101</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">110</span>,<span class="number">117</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">101</span>,<span class="number">120</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">73</span>,<span class="number">115</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">83</span>,<span class="number">101</span>,<span class="number">109</span>,<span class="number">97</span>,<span class="number">112</span>,<span class="number">104</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">77</span>,<span class="number">97</span>,<span class="number">120</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">114</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">82</span>,<span class="number">101</span>,<span class="number">113</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">115</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">49</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">102</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">98</span>,<span class="number">97</span>,<span class="number">99</span>,<span class="number">107</span>,<span class="number">73</span>,<span class="number">115</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">83</span>,<span class="number">101</span>,<span class="number">109</span>,<span class="number">97</span>,<span class="number">112</span>,<span class="number">104</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">77</span>,<span class="number">97</span>,<span class="number">120</span>,<span class="number">67</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">99</span>,<span class="number">117</span>,<span class="number">114</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">82</span>,<span class="number">101</span>,<span class="number">113</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">115</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">49</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">109</span>,<span class="number">101</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">105</span>,<span class="number">99</span>,<span class="number">115</span>,<span class="number">82</span>,<span class="number">111</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">83</span>,<span class="number">116</span>,<span class="number">97</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">99</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">87</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">100</span>,<span class="number">111</span>,<span class="number">119</span>,<span class="number">73</span>,<span class="number">110</span>,<span class="number">77</span>,<span class="number">105</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">105</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">99</span>,<span class="number">111</span>,<span class="number">110</span>,<span class="number">100</span>,<span class="number">115</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">49</span>,<span class="number">48</span>,<span class="number">48</span>,<span class="number">48</span>,<span class="number">48</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">113</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">67</span>,<span class="number">97</span>,<span class="number">99</span>,<span class="number">104</span>,<span class="number">101</span>,<span class="number">69</span>,<span class="number">110</span>,<span class="number">97</span>,<span class="number">98</span>,<span class="number">108</span>,<span class="number">101</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">112</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">112</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">121</span>,<span class="number">86</span>,<span class="number">97</span>,<span class="number">108</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">95</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">113</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">76</span>,<span class="number">111</span>,<span class="number">103</span>,<span class="number">69</span>,<span class="number">110</span>,<span class="number">97</span>,<span class="number">98</span>,<span class="number">108</span>,<span class="number">101</span>,<span class="number">100</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">117</span>,<span class="number">101</span>,<span class="number">44</span>,<span class="number">34</span>,<span class="number">114</span>,<span class="number">101</span>,<span class="number">112</span>,<span class="number">111</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">72</span>,<span class="number">111</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">115</span>,<span class="number">34</span>,<span class="number">58</span>,<span class="number">49</span>,<span class="number">125</span>,<span class="number">125</span></span></pre></td></tr></table></figure>

<p>从上边异常可以看出，这其实就是将这个 byte [] 转为 String 的时候出错了。<br>在源码里找了好久，最后发现原来是启动的时候要初始化一个 <code>ConfigurableCompositeMessageConverter</code>，但是这个类默认的只提供以下 4 个 <code>MessageConverter</code>：</p>
<ul>
<li>MappingJackson2MessageConverter</li>
<li>ByteArrayMessageConverter</li>
<li>ObjectStringMessageConverter</li>
<li>GenericMessageConverter</li>
</ul>
<p>这 4 个 Converter 处理 byte [] -&gt; String 的时候都会出问题（上边的异常就是 <code>MappingJackson2MessageConverter</code> 这个抛出的）。说到这你可能会问了，byte [] 转 String 有这么难吗？不就一个 new String (bytes) 就解决了。我也这么想啊，就差自己动手写了。<br>这时候发现了 <code>CompositeMessageConverterFactory</code>，从名字上可以看出就是 <code>MessageConverter</code> 的工厂类，似乎是一根救命稻草。它里边默认提供了 7 个 Converter，第一个就是 <code>ApplicationJsonMessageMarshallingConverter</code>，看了里边的实现，这不正是我需要的嘛！</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (message.get<span class="constructor">Payload()</span> instanceof byte<span class="literal">[]</span><span class="operator"> &amp;&amp;  </span>targetClass.is<span class="constructor">AssignableFrom(String.<span class="params">class</span>)</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    result = <span class="keyword">new</span> <span class="constructor">String((<span class="params">byte</span>[])</span>message.get<span class="constructor">Payload()</span>, StandardCharsets.UTF_8);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    result = super.convert<span class="constructor">FromInternal(<span class="params">message</span>, <span class="params">targetClass</span>, <span class="params">conversionHint</span>)</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>所以就自己手动注入这个 bean</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">@Bean</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">public ConfigurableCompositeMessageConverter integration<span class="constructor">ArgumentResolverMessageConverter(CompositeMessageConverterFactory <span class="params">factory</span>)</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    return <span class="keyword">new</span> <span class="constructor">ConfigurableCompositeMessageConverter(<span class="params">factory</span>.<span class="params">getMessageConverterForAllRegistered</span>()</span>.get<span class="constructor">Converters()</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<blockquote>
<p>其实这个 Bean 在 <code>ContentTypeConfiguration</code> 中已经声明了但没效果，我只是原封不动的 copy 出来。</p>
</blockquote>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">@<span class="constructor">Bean(<span class="params">name</span> = IntegrationContextUtils.ARGUMENT_RESOLVER_MESSAGE_CONVERTER_BEAN_NAME)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">public ConfigurableCompositeMessageConverter configurable<span class="constructor">CompositeMessageConverter(CompositeMessageConverterFactory <span class="params">factory</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    return <span class="keyword">new</span> <span class="constructor">ConfigurableCompositeMessageConverter(<span class="params">factory</span>.<span class="params">getMessageConverterForAllRegistered</span>()</span>.get<span class="constructor">Converters()</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="Fatal-Exception-thrown-on-Scheduler-Worker-thread"><a href="#Fatal-Exception-thrown-on-Scheduler-Worker-thread" class="headerlink" title="Fatal Exception thrown on Scheduler.Worker thread"></a>Fatal Exception thrown on Scheduler.Worker thread</h4><p>这个的异常信息如下：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">Exception <span class="keyword">in</span> thread <span class="string">"RxComputationScheduler-1"</span> java<span class="selector-class">.lang</span><span class="selector-class">.IllegalStateException</span>: Fatal Exception thrown on Scheduler<span class="selector-class">.Worker</span> thread.</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.schedulers</span><span class="selector-class">.ScheduledAction</span>.run(ScheduledAction<span class="selector-class">.java</span>:<span class="number">59</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span>.Executors<span class="variable">$RunnableAdapter</span>.call(Executors<span class="selector-class">.java</span>:<span class="number">511</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.FutureTask</span>.run(FutureTask<span class="selector-class">.java</span>:<span class="number">266</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span>.ScheduledThreadPoolExecutor<span class="variable">$ScheduledFutureTask</span>.access$<span class="number">201</span>(ScheduledThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">180</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span>.ScheduledThreadPoolExecutor<span class="variable">$ScheduledFutureTask</span>.run(ScheduledThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">293</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span>.runWorker(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">1149</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span>.ThreadPoolExecutor<span class="variable">$Worker</span>.run(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">624</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    at java<span class="selector-class">.lang</span><span class="selector-class">.Thread</span>.run(Thread<span class="selector-class">.java</span>:<span class="number">748</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">Caused by: java<span class="selector-class">.lang</span>.AbstractMethodError</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.netty</span><span class="selector-class">.util</span><span class="selector-class">.ReferenceCountUtil</span>.touch(ReferenceCountUtil<span class="selector-class">.java</span>:<span class="number">77</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.netty</span><span class="selector-class">.channel</span><span class="selector-class">.DefaultChannelPipeline</span>.touch(DefaultChannelPipeline<span class="selector-class">.java</span>:<span class="number">116</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.netty</span><span class="selector-class">.channel</span><span class="selector-class">.AbstractChannelHandlerContext</span>.write(AbstractChannelHandlerContext<span class="selector-class">.java</span>:<span class="number">810</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.netty</span><span class="selector-class">.channel</span><span class="selector-class">.AbstractChannelHandlerContext</span>.write(AbstractChannelHandlerContext<span class="selector-class">.java</span>:<span class="number">723</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.netty</span><span class="selector-class">.channel</span><span class="selector-class">.AbstractChannelHandlerContext</span>.write(AbstractChannelHandlerContext<span class="selector-class">.java</span>:<span class="number">704</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.netty</span><span class="selector-class">.channel</span><span class="selector-class">.DefaultChannelPipeline</span>.write(DefaultChannelPipeline<span class="selector-class">.java</span>:<span class="number">1056</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.netty</span><span class="selector-class">.channel</span><span class="selector-class">.AbstractChannel</span>.write(AbstractChannel<span class="selector-class">.java</span>:<span class="number">290</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.reactivex</span><span class="selector-class">.netty</span><span class="selector-class">.channel</span><span class="selector-class">.DefaultChannelWriter</span>.writeOnChannel(DefaultChannelWriter<span class="selector-class">.java</span>:<span class="number">165</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.reactivex</span><span class="selector-class">.netty</span><span class="selector-class">.protocol</span><span class="selector-class">.http</span><span class="selector-class">.server</span><span class="selector-class">.HttpServerResponse</span>.writeOnChannel(HttpServerResponse<span class="selector-class">.java</span>:<span class="number">195</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.reactivex</span><span class="selector-class">.netty</span><span class="selector-class">.channel</span><span class="selector-class">.DefaultChannelWriter</span>.write(DefaultChannelWriter<span class="selector-class">.java</span>:<span class="number">83</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">    at io<span class="selector-class">.reactivex</span><span class="selector-class">.netty</span><span class="selector-class">.channel</span><span class="selector-class">.DefaultChannelWriter</span>.writeAndFlush(DefaultChannelWriter<span class="selector-class">.java</span>:<span class="number">65</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    at org<span class="selector-class">.springframework</span><span class="selector-class">.cloud</span><span class="selector-class">.netflix</span><span class="selector-class">.turbine</span><span class="selector-class">.stream</span><span class="selector-class">.TurbineStreamConfiguration</span>.lambda<span class="variable">$null</span>$<span class="number">6</span>(TurbineStreamConfiguration<span class="selector-class">.java</span>:<span class="number">106</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.operators</span>.OnSubscribeMap<span class="variable">$MapSubscriber</span>.onNext(OnSubscribeMap<span class="selector-class">.java</span>:<span class="number">69</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.observers</span>.Subscribers$<span class="number">5</span>.onNext(Subscribers<span class="selector-class">.java</span>:<span class="number">235</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.operators</span>.OperatorMerge<span class="variable">$MergeSubscriber</span>.emitScalar(OperatorMerge<span class="selector-class">.java</span>:<span class="number">395</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.operators</span>.OperatorMerge<span class="variable">$MergeSubscriber</span>.tryEmit(OperatorMerge<span class="selector-class">.java</span>:<span class="number">355</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.operators</span>.OperatorMerge<span class="variable">$InnerSubscriber</span>.onNext(OperatorMerge<span class="selector-class">.java</span>:<span class="number">846</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.operators</span>.OnSubscribeRefCount$<span class="number">2</span>.onNext(OnSubscribeRefCount<span class="selector-class">.java</span>:<span class="number">120</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.operators</span>.OperatorPublish<span class="variable">$PublishSubscriber</span>.dispatch(OperatorPublish<span class="selector-class">.java</span>:<span class="number">585</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.operators</span>.OperatorPublish<span class="variable">$PublishSubscriber</span>.onNext(OperatorPublish<span class="selector-class">.java</span>:<span class="number">283</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.operators</span>.OnSubscribeMap<span class="variable">$MapSubscriber</span>.onNext(OnSubscribeMap<span class="selector-class">.java</span>:<span class="number">77</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.operators</span>.OnSubscribeTimerPeriodically$<span class="number">1</span>.call(OnSubscribeTimerPeriodically<span class="selector-class">.java</span>:<span class="number">52</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.schedulers</span>.SchedulePeriodicHelper$<span class="number">1</span>.call(SchedulePeriodicHelper<span class="selector-class">.java</span>:<span class="number">72</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.schedulers</span>.EventLoopsScheduler<span class="variable">$EventLoopWorker</span>$<span class="number">2</span>.call(EventLoopsScheduler<span class="selector-class">.java</span>:<span class="number">189</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">    at rx<span class="selector-class">.internal</span><span class="selector-class">.schedulers</span><span class="selector-class">.ScheduledAction</span>.run(ScheduledAction<span class="selector-class">.java</span>:<span class="number">55</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">    ... <span class="number">7</span> more</span></pre></td></tr></table></figure>

<p>同时在 Hystrix Dashboard 中 monitor 相应的地址的会提示 “Unable to connect to Command Metric Stream.” 并在 Console 里报错：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">EventSource<span class="symbol">'s</span> response has a MIME <span class="keyword">type</span> <span class="type">("text/plain") </span>that <span class="keyword">is</span> <span class="keyword">not</span> <span class="string">"text/event-stream"</span>. Aborting the connection.</span></pre></td></tr></table></figure>

<p><del>这个问题真不知道怎么搞了，先弃坑了，有空了再研究吧。</del><br>2018-05-06 更新：<br>这个问题可以详见 Github 上的 <a href="https://github.com/spring-cloud/spring-cloud-netflix/issues/2915" target="_blank" rel="noopener">这个 issus</a> 感谢 @MadeInChina<br>为了本文的完整性，我这里也说明下这个问题的解决思路和解决办法。<br>这个异常信息关键的一行是是第 22 行</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">at org<span class="selector-class">.springframework</span><span class="selector-class">.cloud</span><span class="selector-class">.netflix</span><span class="selector-class">.turbine</span><span class="selector-class">.stream</span><span class="selector-class">.TurbineStreamConfiguration</span>.lambda<span class="variable">$null</span>$<span class="number">6</span>(TurbineStreamConfiguration<span class="selector-class">.java</span>:<span class="number">106</span>)</span></pre></td></tr></table></figure>

<p>我们就打开 TurbineStreamConfiguration 看一下这 106 行到底写了点啥<br><a href="http://image.winrains.cn/2019/11/2f1e7-006tKfTcly1fr20g560dgj31880b40ws.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/2f1e7-006tKfTcly1fr20g560dgj31880b40ws.jpg" alt="img"></a><br>如果这时你点进去看 ServerSentEvent 这个类，问题其实就明了了（我当时就是困在了 <code>response.writeAndFlush</code> 这个方法上，根本没注意到 ServerSentEvent）<br><a href="http://image.winrains.cn/2019/11/21ece-006tKfTcly1fr20nsl636j31kw0erjwb.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/21ece-006tKfTcly1fr20nsl636j31kw0erjwb.jpg" alt="img"></a><br>这个类直接报错，因为没有完整实现 ByteBufHolder 里边的方法，从这你已经能看出来应该是相关依赖的问题了。我们这里注意一下这个类所在的 JAR 包 <code>io.reactivex:rxnetty:0.4.9</code>，然后再看一下它实现的这个接口<br><a href="http://image.winrains.cn/2019/11/3c131-006tKfTcly1fr20qkadxsj31dk0iydn1.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/3c131-006tKfTcly1fr20qkadxsj31dk0iydn1.jpg" alt="img"></a><br>这个接口的变更记录可以看<a href="https://github.com/netty/netty/commits/eb7f751ba519cbcab47d640cd18757f09d077b55/buffer/src/main/java/io/netty/buffer/ByteBufHolder.java" target="_blank" rel="noopener">这里</a>。最后一次的修改是在 2016.5.17 添加了几个方法，也就是说 ByteBufHolder 在 <code>io.netty:netty-buffer:4.1.0.Final</code>（2016.5.25）就已经被修改了，更不用说 <code>io.netty:netty-buffer:4.1.23.Final</code>（2018.4.4）了。而 <code>io.reactivex:rxnetty:0.4.9</code> 是一个 2015.5.6 发布的 jar 包。<br>那我们就用 <code>io.reactivex:rxnetty:0.4.20</code> 最新的版本来试试，pom.xml 里添加以下内容</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.reactivex<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rxnetty<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.4.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></pre></td></tr></table></figure>

<p>再次启动并测试</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ curl http:<span class="comment">//localhost:8989</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">curl: (<span class="number">52</span>) Empty reply <span class="keyword">from</span> server</span></pre></td></tr></table></figure>

<p>发现依旧报错，控制台里错误如下</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span>-<span class="number">05</span>-<span class="number">06</span> <span class="number">23</span>:<span class="number">29</span>:<span class="number">37.056</span>  WARN <span class="number">52477</span> --- <span class="literal">[<span class="identifier">o</span>-<span class="identifier">eventloop</span>-<span class="number">3</span>-<span class="number">2</span>]</span> i.n.c.AbstractChannelHandlerContext      : An <span class="keyword">exception</span> '&#123;&#125;' <span class="literal">[<span class="identifier">enable</span> DEBUG <span class="identifier">level</span> <span class="identifier">for</span> <span class="identifier">full</span> <span class="identifier">stacktrace</span>]</span> was thrown by a user handler's <span class="keyword">exception</span><span class="constructor">Caught()</span> <span class="keyword">method</span> <span class="keyword">while</span> handling the following <span class="keyword">exception</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">java.lang.NoSuchMethodError: rx.internal.operators.<span class="module-access"><span class="module"><span class="identifier">NotificationLite</span>.</span></span>instance<span class="literal">()</span>Lrx/internal/operators/NotificationLite;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.UnicastContentSubject$State$BufferedObserver.&lt;init&gt;(<span class="module-access"><span class="module"><span class="identifier">UnicastContentSubject</span>.</span></span>java:<span class="number">243</span>) ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.UnicastContentSubject$State$BufferedObserver.&lt;init&gt;(<span class="module-access"><span class="module"><span class="identifier">UnicastContentSubject</span>.</span></span>java:<span class="number">241</span>) ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.UnicastContentSubject$State.&lt;init&gt;(<span class="module-access"><span class="module"><span class="identifier">UnicastContentSubject</span>.</span></span>java:<span class="number">197</span>) ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.<span class="module-access"><span class="module"><span class="identifier">UnicastContentSubject</span>.</span></span>create(<span class="module-access"><span class="module"><span class="identifier">UnicastContentSubject</span>.</span></span>java:<span class="number">132</span>) ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.<span class="module-access"><span class="module"><span class="identifier">UnicastContentSubject</span>.</span></span>create(<span class="module-access"><span class="module"><span class="identifier">UnicastContentSubject</span>.</span></span>java:<span class="number">122</span>) ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.<span class="module-access"><span class="module"><span class="identifier">UnicastContentSubject</span>.</span></span>create(<span class="module-access"><span class="module"><span class="identifier">UnicastContentSubject</span>.</span></span>java:<span class="number">117</span>) ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.server.<span class="module-access"><span class="module"><span class="identifier">ServerRequestResponseConverter$RequestState</span>.</span></span>create<span class="constructor">RxRequest(ServerRequestResponseConverter.<span class="params">java</span>:176)</span> ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.server.<span class="module-access"><span class="module"><span class="identifier">ServerRequestResponseConverter$RequestState</span>.</span></span>access<span class="constructor">$100(ServerRequestResponseConverter.<span class="params">java</span>:168)</span> ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.server.<span class="module-access"><span class="module"><span class="identifier">ServerRequestResponseConverter</span>.</span></span>channel<span class="constructor">Read(ServerRequestResponseConverter.<span class="params">java</span>:87)</span> ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:362)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:348)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>fire<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:340)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    at io.netty.handler.codec.<span class="module-access"><span class="module"><span class="identifier">ByteToMessageDecoder</span>.</span></span>fire<span class="constructor">ChannelRead(ByteToMessageDecoder.<span class="params">java</span>:310)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">codec</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    at io.netty.handler.codec.<span class="module-access"><span class="module"><span class="identifier">ByteToMessageDecoder</span>.</span></span>channel<span class="constructor">Read(ByteToMessageDecoder.<span class="params">java</span>:284)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">codec</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:362)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:348)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>fire<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:340)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    at io.netty.handler.logging.<span class="module-access"><span class="module"><span class="identifier">LoggingHandler</span>.</span></span>channel<span class="constructor">Read(LoggingHandler.<span class="params">java</span>:241)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">handler</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:362)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:348)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>fire<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:340)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">ChannelInboundHandlerAdapter</span>.</span></span>channel<span class="constructor">Read(ChannelInboundHandlerAdapter.<span class="params">java</span>:86)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.metrics.<span class="module-access"><span class="module"><span class="identifier">BytesInspector</span>.</span></span>channel<span class="constructor">Read(BytesInspector.<span class="params">java</span>:59)</span> <span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:362)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:348)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>fire<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:340)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">DefaultChannelPipeline$HeadContext</span>.</span></span>channel<span class="constructor">Read(DefaultChannelPipeline.<span class="params">java</span>:1434)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:362)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:348)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">DefaultChannelPipeline</span>.</span></span>fire<span class="constructor">ChannelRead(DefaultChannelPipeline.<span class="params">java</span>:965)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.nio.<span class="module-access"><span class="module"><span class="identifier">AbstractNioByteChannel$NioByteUnsafe</span>.</span></span>read(<span class="module-access"><span class="module"><span class="identifier">AbstractNioByteChannel</span>.</span></span>java:<span class="number">163</span>) <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.nio.<span class="module-access"><span class="module"><span class="identifier">NioEventLoop</span>.</span></span>process<span class="constructor">SelectedKey(NioEventLoop.<span class="params">java</span>:645)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.nio.<span class="module-access"><span class="module"><span class="identifier">NioEventLoop</span>.</span></span>process<span class="constructor">SelectedKeysOptimized(NioEventLoop.<span class="params">java</span>:580)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.nio.<span class="module-access"><span class="module"><span class="identifier">NioEventLoop</span>.</span></span>process<span class="constructor">SelectedKeys(NioEventLoop.<span class="params">java</span>:497)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.nio.<span class="module-access"><span class="module"><span class="identifier">NioEventLoop</span>.</span></span>run(<span class="module-access"><span class="module"><span class="identifier">NioEventLoop</span>.</span></span>java:<span class="number">459</span>) <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">    at io.netty.util.concurrent.<span class="module-access"><span class="module"><span class="identifier">SingleThreadEventExecutor$5</span>.</span></span>run(<span class="module-access"><span class="module"><span class="identifier">SingleThreadEventExecutor</span>.</span></span>java:<span class="number">886</span>) <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">common</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">    at io.netty.util.concurrent.<span class="module-access"><span class="module"><span class="identifier">FastThreadLocalRunnable</span>.</span></span>run(<span class="module-access"><span class="module"><span class="identifier">FastThreadLocalRunnable</span>.</span></span>java:<span class="number">30</span>) <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">common</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">    at java.lang.<span class="module-access"><span class="module"><span class="identifier">Thread</span>.</span></span>run(<span class="module-access"><span class="module"><span class="identifier">Thread</span>.</span></span>java:<span class="number">748</span>) <span class="literal">[<span class="identifier">na</span>:<span class="number">1.8</span>.<span class="number">0_171</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span>-<span class="number">05</span>-<span class="number">06</span> <span class="number">23</span>:<span class="number">29</span>:<span class="number">37.057</span> ERROR <span class="number">52477</span> --- <span class="literal">[<span class="identifier">o</span>-<span class="identifier">eventloop</span>-<span class="number">3</span>-<span class="number">2</span>]</span> i.r.netty.server.DefaultErrorHandler     : Unexpected error <span class="keyword">in</span> RxNetty.</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">java.lang.NullPointerException: null</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.server.<span class="module-access"><span class="module"><span class="identifier">ServerRequestResponseConverter</span>.</span></span>invoke<span class="constructor">ContentOnNext(ServerRequestResponseConverter.<span class="params">java</span>:160)</span> ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.protocol.http.server.<span class="module-access"><span class="module"><span class="identifier">ServerRequestResponseConverter</span>.</span></span>channel<span class="constructor">Read(ServerRequestResponseConverter.<span class="params">java</span>:96)</span> ~<span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:362)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:348)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>fire<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:340)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">    at io.netty.handler.codec.<span class="module-access"><span class="module"><span class="identifier">ByteToMessageDecoder</span>.</span></span>fire<span class="constructor">ChannelRead(ByteToMessageDecoder.<span class="params">java</span>:310)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">codec</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line">    at io.netty.handler.codec.<span class="module-access"><span class="module"><span class="identifier">ByteToMessageDecoder</span>.</span></span>channel<span class="constructor">Read(ByteToMessageDecoder.<span class="params">java</span>:284)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">codec</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:362)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:348)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>fire<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:340)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line">    at io.netty.handler.logging.<span class="module-access"><span class="module"><span class="identifier">LoggingHandler</span>.</span></span>channel<span class="constructor">Read(LoggingHandler.<span class="params">java</span>:241)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">handler</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:362)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:348)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>fire<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:340)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">ChannelInboundHandlerAdapter</span>.</span></span>channel<span class="constructor">Read(ChannelInboundHandlerAdapter.<span class="params">java</span>:86)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line">    at io.reactivex.netty.metrics.<span class="module-access"><span class="module"><span class="identifier">BytesInspector</span>.</span></span>channel<span class="constructor">Read(BytesInspector.<span class="params">java</span>:59)</span> <span class="literal">[<span class="identifier">rx</span>-<span class="identifier">netty</span>-<span class="number">0.3</span>.<span class="number">18.</span><span class="identifier">jar</span>:<span class="identifier">na</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:362)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">60</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:348)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">61</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>fire<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:340)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">62</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">DefaultChannelPipeline$HeadContext</span>.</span></span>channel<span class="constructor">Read(DefaultChannelPipeline.<span class="params">java</span>:1434)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">63</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:362)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">64</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">AbstractChannelHandlerContext</span>.</span></span>invoke<span class="constructor">ChannelRead(AbstractChannelHandlerContext.<span class="params">java</span>:348)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">65</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.<span class="module-access"><span class="module"><span class="identifier">DefaultChannelPipeline</span>.</span></span>fire<span class="constructor">ChannelRead(DefaultChannelPipeline.<span class="params">java</span>:965)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">66</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.nio.<span class="module-access"><span class="module"><span class="identifier">AbstractNioByteChannel$NioByteUnsafe</span>.</span></span>read(<span class="module-access"><span class="module"><span class="identifier">AbstractNioByteChannel</span>.</span></span>java:<span class="number">163</span>) <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">67</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.nio.<span class="module-access"><span class="module"><span class="identifier">NioEventLoop</span>.</span></span>process<span class="constructor">SelectedKey(NioEventLoop.<span class="params">java</span>:645)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">68</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.nio.<span class="module-access"><span class="module"><span class="identifier">NioEventLoop</span>.</span></span>process<span class="constructor">SelectedKeysOptimized(NioEventLoop.<span class="params">java</span>:580)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">69</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.nio.<span class="module-access"><span class="module"><span class="identifier">NioEventLoop</span>.</span></span>process<span class="constructor">SelectedKeys(NioEventLoop.<span class="params">java</span>:497)</span> <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">70</span></pre></td><td class="code"><pre><span class="line">    at io.netty.channel.nio.<span class="module-access"><span class="module"><span class="identifier">NioEventLoop</span>.</span></span>run(<span class="module-access"><span class="module"><span class="identifier">NioEventLoop</span>.</span></span>java:<span class="number">459</span>) <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">transport</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">71</span></pre></td><td class="code"><pre><span class="line">    at io.netty.util.concurrent.<span class="module-access"><span class="module"><span class="identifier">SingleThreadEventExecutor$5</span>.</span></span>run(<span class="module-access"><span class="module"><span class="identifier">SingleThreadEventExecutor</span>.</span></span>java:<span class="number">886</span>) <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">common</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">72</span></pre></td><td class="code"><pre><span class="line">    at io.netty.util.concurrent.<span class="module-access"><span class="module"><span class="identifier">FastThreadLocalRunnable</span>.</span></span>run(<span class="module-access"><span class="module"><span class="identifier">FastThreadLocalRunnable</span>.</span></span>java:<span class="number">30</span>) <span class="literal">[<span class="identifier">netty</span>-<span class="identifier">common</span>-<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>.<span class="identifier">jar</span>:<span class="number">4.1</span>.<span class="number">23.</span>F<span class="identifier">inal</span>]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">73</span></pre></td><td class="code"><pre><span class="line">    at java.lang.<span class="module-access"><span class="module"><span class="identifier">Thread</span>.</span></span>run(<span class="module-access"><span class="module"><span class="identifier">Thread</span>.</span></span>java:<span class="number">748</span>) <span class="literal">[<span class="identifier">na</span>:<span class="number">1.8</span>.<span class="number">0_171</span>]</span></span></pre></td></tr></table></figure>

<p>就仅看异常栈的第一行，你会发现 UnicastContentSubject 这个类在当前环境下有三个<br><a href="http://image.winrains.cn/2019/11/77b30-006tKfTcly1fr21ws6q6kj31fc08642r.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/77b30-006tKfTcly1fr21ws6q6kj31fc08642r.jpg" alt="img"></a><br>将三个都打开来看一下，会发现 <code>io.reactivex:rxnetty</code> 那两个看起来问题不大，而 <code>com.netflix.rxnetty:rx-netty</code> 这个直接又是报错，依旧是未完全实现接口。<br><a href="http://image.winrains.cn/2019/11/e2cce-006tKfTcly1fr2219kxxqj31kw0jv10k.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/e2cce-006tKfTcly1fr2219kxxqj31kw0jv10k.jpg" alt="img"></a><br>根据 DEBUG 的信息来看，而实际使用的就是 <code>com.netflix.rxnetty:rx-netty:0.3.18</code> 里边的这个，那就分析一下依赖吧，把这个残疾的老古董（2014.11.6）给排除掉</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ mvn <span class="string">dependency:</span>tree -Dverbose -Dincludes=*:*netty*</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">[INFO] Scanning <span class="keyword">for</span> projects...</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">[INFO]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">[INFO] ----------&lt; com.<span class="string">windmt:</span>spring-cloud-turbine-stream-rabbitmq &gt;-----------</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">[INFO] Building turbine-stream-rabbitmq <span class="number">0.0</span><span class="number">.1</span>-SNAPSHOT</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">[INFO] --------------------------------[ jar ]---------------------------------</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">[INFO]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">[INFO] --- maven-dependency-<span class="string">plugin:</span><span class="number">3.0</span><span class="number">.2</span>:tree (<span class="keyword">default</span>-cli) @ spring-cloud-turbine-stream-rabbitmq ---</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">[INFO] Verbose not supported since maven-dependency-plugin <span class="number">3.0</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">[INFO] com.<span class="string">windmt:</span>spring-cloud-turbine-stream-<span class="string">rabbitmq:</span><span class="string">jar:</span><span class="number">0.0</span><span class="number">.1</span>-SNAPSHOT</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">[INFO] +- org.springframework.<span class="string">cloud:</span>spring-cloud-starter-netflix-turbine-<span class="string">stream:</span><span class="string">jar:</span><span class="number">2.0</span><span class="number">.0</span>.<span class="string">RC1:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">[INFO] |  +- org.springframework.<span class="string">cloud:</span>spring-cloud-starter-netflix-eureka-<span class="string">client:</span><span class="string">jar:</span><span class="number">2.0</span><span class="number">.0</span>.<span class="string">RC1:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">[INFO] |  |  \- org.springframework.<span class="string">cloud:</span>spring-cloud-starter-netflix-<span class="string">ribbon:</span><span class="string">jar:</span><span class="number">2.0</span><span class="number">.0</span>.<span class="string">RC1:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">[INFO] |  |     \- com.netflix.<span class="string">ribbon:</span><span class="string">ribbon:</span><span class="string">jar:</span><span class="number">2.2</span><span class="number">.5</span>:compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">[INFO] |  |        +- com.netflix.<span class="string">ribbon:</span>ribbon-<span class="string">transport:</span><span class="string">jar:</span><span class="number">2.2</span><span class="number">.5</span>:runtime</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">[INFO] |  |        |  +- io.<span class="string">reactivex:</span>rxnetty-<span class="string">contexts:</span><span class="string">jar:</span><span class="number">0.4</span><span class="number">.9</span>:runtime</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">[INFO] |  |        |  \- io.<span class="string">reactivex:</span>rxnetty-<span class="string">servo:</span><span class="string">jar:</span><span class="number">0.4</span><span class="number">.9</span>:runtime</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">[INFO] |  |        \- io.<span class="string">reactivex:</span><span class="string">rxnetty:</span><span class="string">jar:</span><span class="number">0.4</span><span class="number">.9</span>:runtime</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">[INFO] |  \- com.netflix.<span class="string">turbine:</span>turbine-<span class="string">core:</span><span class="string">jar:</span><span class="number">2.0</span><span class="number">.0</span>-DP<span class="number">.2</span>:compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">[INFO] |     \- com.netflix.<span class="string">rxnetty:</span>rx-<span class="string">netty:</span><span class="string">jar:</span><span class="number">0.3</span><span class="number">.18</span>:compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">[INFO] |        +- io.<span class="string">netty:</span>netty-codec-<span class="string">http:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">[INFO] |        |  \- io.<span class="string">netty:</span>netty-<span class="string">codec:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">[INFO] |        \- io.<span class="string">netty:</span>netty-transport-native-<span class="string">epoll:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">[INFO] |           +- io.<span class="string">netty:</span>netty-<span class="string">common:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">[INFO] |           +- io.<span class="string">netty:</span>netty-<span class="string">buffer:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">[INFO] |           +- io.<span class="string">netty:</span>netty-transport-native-unix-<span class="string">common:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">[INFO] |           \- io.<span class="string">netty:</span>netty-<span class="string">transport:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">[INFO] |              \- io.<span class="string">netty:</span>netty-<span class="string">resolver:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">[INFO] \- org.springframework.<span class="string">cloud:</span>spring-cloud-stream-binder-<span class="string">rabbit:</span><span class="string">jar:</span><span class="number">2.0</span><span class="number">.0</span>.<span class="string">RELEASE:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">[INFO]    \- org.springframework.<span class="string">boot:</span>spring-boot-starter-<span class="string">amqp:</span><span class="string">jar:</span><span class="number">2.0</span><span class="number">.1</span>.<span class="string">RELEASE:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">[INFO]       \- org.springframework.<span class="string">amqp:</span>spring-<span class="string">rabbit:</span><span class="string">jar:</span><span class="number">2.0</span><span class="number">.3</span>.<span class="string">RELEASE:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">[INFO]          \- com.<span class="string">rabbitmq:</span>http-<span class="string">client:</span><span class="string">jar:</span><span class="number">2.0</span><span class="number">.1</span>.<span class="string">RELEASE:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">[INFO]             \- io.projectreactor.<span class="string">ipc:</span>reactor-<span class="string">netty:</span><span class="string">jar:</span><span class="number">0.7</span><span class="number">.6</span>.<span class="string">RELEASE:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">[INFO]                +- io.<span class="string">netty:</span>netty-<span class="string">handler:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">[INFO]                \- io.<span class="string">netty:</span>netty-handler-<span class="string">proxy:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">[INFO]                   \- io.<span class="string">netty:</span>netty-codec-<span class="string">socks:</span><span class="string">jar:</span><span class="number">4.1</span><span class="number">.23</span>.<span class="string">Final:</span>compile</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">[INFO] ------------------------------------------------------------------------</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">[INFO] BUILD SUCCESS</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">[INFO] ------------------------------------------------------------------------</span></pre></td></tr></table></figure>

<p>最终 pom.xml 里的依赖坐标如下（这也是能正常启动 Turbine Stream 的最小配置了，Spring Cloud 的版本为 Finchley.RC1）：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-turbine-stream<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.netflix.rxnetty<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rx-netty<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.reactivex<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rxnetty<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.reactivex<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rxnetty<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.4.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-stream-binder-rabbit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span></pre></td></tr></table></figure>

<p>再次测试就能正常收到 SSE 了</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ curl <span class="string">http:</span><span class="comment">//localhost:8989</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="string">event:</span> message</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="string">data:</span> &#123;<span class="string">"rollingCountFallbackFailure"</span>:<span class="number">0</span>,<span class="string">"rollingCountFallbackSuccess"</span>:<span class="number">0</span>,<span class="string">"propertyValue_circuitBreakerRequestVolumeThreshold"</span>:<span class="string">"20"</span>,<span class="string">"propertyValue_circuitBreakerForceOpen"</span>:<span class="literal">false</span>,<span class="string">"propertyValue_metricsRollingStatisticalWindowInMilliseconds"</span>:<span class="string">"10000"</span>,<span class="string">"latencyTotal_mean"</span>:<span class="number">0</span>,<span class="string">"type"</span>:<span class="string">"HystrixCommand"</span>,<span class="string">"rollingCountResponsesFromCache"</span>:<span class="number">0</span>,<span class="string">"TypeAndName"</span>:<span class="string">"TypeAndName=&gt;HystrixCommand_consumer-feign-hystrix-stream.HelloRemote#hello(String)"</span>,<span class="string">"rollingCountTimeout"</span>:<span class="number">0</span>,<span class="string">"propertyValue_executionIsolationStrategy"</span>:<span class="string">"THREAD"</span>,<span class="string">"instanceId"</span>:<span class="string">"application-1"</span>,<span class="string">"rollingCountFailure"</span>:<span class="number">0</span>,<span class="string">"rollingCountExceptionsThrown"</span>:<span class="number">0</span>,<span class="string">"latencyExecute_mean"</span>:<span class="number">0</span>,<span class="string">"isCircuitBreakerOpen"</span>:<span class="literal">false</span>,<span class="string">"errorCount"</span>:<span class="number">0</span>,<span class="string">"group"</span>:<span class="string">"producer"</span>,<span class="string">"rollingCountSemaphoreRejected"</span>:<span class="number">0</span>,<span class="string">"latencyTotal"</span>:&#123;<span class="string">"0"</span>:<span class="number">0</span>,<span class="string">"25"</span>:<span class="number">0</span>,<span class="string">"50"</span>:<span class="number">0</span>,<span class="string">"75"</span>:<span class="number">0</span>,<span class="string">"90"</span>:<span class="number">0</span>,<span class="string">"95"</span>:<span class="number">0</span>,<span class="string">"99"</span>:<span class="number">0</span>,<span class="string">"99.5"</span>:<span class="number">0</span>,<span class="string">"100"</span>:<span class="number">0</span>&#125;,<span class="string">"requestCount"</span>:<span class="number">0</span>,<span class="string">"rollingCountCollapsedRequests"</span>:<span class="number">0</span>,<span class="string">"rollingCountShortCircuited"</span>:<span class="number">0</span>,<span class="string">"latencyExecute"</span>:&#123;<span class="string">"0"</span>:<span class="number">0</span>,<span class="string">"25"</span>:<span class="number">0</span>,<span class="string">"50"</span>:<span class="number">0</span>,<span class="string">"75"</span>:<span class="number">0</span>,<span class="string">"90"</span>:<span class="number">0</span>,<span class="string">"95"</span>:<span class="number">0</span>,<span class="string">"99"</span>:<span class="number">0</span>,<span class="string">"99.5"</span>:<span class="number">0</span>,<span class="string">"100"</span>:<span class="number">0</span>&#125;,<span class="string">"propertyValue_circuitBreakerSleepWindowInMilliseconds"</span>:<span class="string">"5000"</span>,<span class="string">"currentConcurrentExecutionCount"</span>:<span class="number">0</span>,<span class="string">"propertyValue_executionIsolationSemaphoreMaxConcurrentRequests"</span>:<span class="string">"10"</span>,<span class="string">"errorPercentage"</span>:<span class="number">0</span>,<span class="string">"rollingCountThreadPoolRejected"</span>:<span class="number">0</span>,<span class="string">"propertyValue_circuitBreakerEnabled"</span>:<span class="literal">true</span>,<span class="string">"propertyValue_executionIsolationThreadInterruptOnTimeout"</span>:<span class="literal">true</span>,<span class="string">"propertyValue_requestCacheEnabled"</span>:<span class="literal">true</span>,<span class="string">"rollingCountFallbackRejection"</span>:<span class="number">0</span>,<span class="string">"propertyValue_requestLogEnabled"</span>:<span class="literal">true</span>,<span class="string">"rollingCountSuccess"</span>:<span class="number">0</span>,<span class="string">"propertyValue_fallbackIsolationSemaphoreMaxConcurrentRequests"</span>:<span class="string">"10"</span>,<span class="string">"InstanceKey"</span>:<span class="string">"InstanceKey=&gt;application-1"</span>,<span class="string">"propertyValue_circuitBreakerErrorThresholdPercentage"</span>:<span class="string">"50"</span>,<span class="string">"propertyValue_circuitBreakerForceClosed"</span>:<span class="literal">false</span>,<span class="string">"name"</span>:<span class="string">"consumer-feign-hystrix-stream.HelloRemote#hello(String)"</span>,<span class="string">"reportingHosts"</span>:<span class="number">1</span>,<span class="string">"propertyValue_executionIsolationThreadPoolKeyOverride"</span>:<span class="string">"null"</span>,<span class="string">"propertyValue_executionIsolationThreadTimeoutInMilliseconds"</span>:<span class="string">"1000"</span>&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="string">event:</span> message</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="string">data:</span> &#123;<span class="string">"currentCorePoolSize"</span>:<span class="number">10</span>,<span class="string">"currentLargestPoolSize"</span>:<span class="number">8</span>,<span class="string">"currentActiveCount"</span>:<span class="number">0</span>,<span class="string">"propertyValue_metricsRollingStatisticalWindowInMilliseconds"</span>:<span class="string">"10000"</span>,<span class="string">"currentMaximumPoolSize"</span>:<span class="number">10</span>,<span class="string">"currentQueueSize"</span>:<span class="number">0</span>,<span class="string">"type"</span>:<span class="string">"HystrixThreadPool"</span>,<span class="string">"currentTaskCount"</span>:<span class="number">8</span>,<span class="string">"TypeAndName"</span>:<span class="string">"TypeAndName=&gt;HystrixThreadPool_producer"</span>,<span class="string">"currentCompletedTaskCount"</span>:<span class="number">8</span>,<span class="string">"rollingMaxActiveThreads"</span>:<span class="number">0</span>,<span class="string">"instanceId"</span>:<span class="string">"application-1"</span>,<span class="string">"InstanceKey"</span>:<span class="string">"InstanceKey=&gt;application-1"</span>,<span class="string">"name"</span>:<span class="string">"producer"</span>,<span class="string">"reportingHosts"</span>:<span class="number">1</span>,<span class="string">"currentPoolSize"</span>:<span class="number">8</span>,<span class="string">"propertyValue_queueSizeRejectionThreshold"</span>:<span class="string">"5"</span>,<span class="string">"rollingCountThreadsExecuted"</span>:<span class="number">0</span>&#125;</span></pre></td></tr></table></figure>

<p>控制台也不报错了</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span><span class="number">-05</span><span class="number">-06</span> <span class="number">23</span>:<span class="number">57</span>:<span class="number">25.833</span>  INFO <span class="number">53309</span> --- [o-eventloop<span class="number">-3</span><span class="number">-1</span>] o.s.c.n.t.s.TurbineStreamConfiguration   : SSE Request Received</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span><span class="number">-05</span><span class="number">-06</span> <span class="number">23</span>:<span class="number">57</span>:<span class="number">25.843</span>  INFO <span class="number">53309</span> --- [o-eventloop<span class="number">-3</span><span class="number">-1</span>] o.s.c.n.t.s.TurbineStreamConfiguration   : Starting aggregation</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span><span class="number">-05</span><span class="number">-06</span> <span class="number">23</span>:<span class="number">57</span>:<span class="number">32.115</span>  INFO <span class="number">53309</span> --- [o-eventloop<span class="number">-3</span><span class="number">-1</span>] o.s.c.n.t.s.TurbineStreamConfiguration   : Unsubscribing RxNetty server connection</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span><span class="number">-05</span><span class="number">-06</span> <span class="number">23</span>:<span class="number">57</span>:<span class="number">32.116</span>  INFO <span class="number">53309</span> --- [o-eventloop<span class="number">-3</span><span class="number">-1</span>] o.s.c.n.t.s.TurbineStreamConfiguration   : Unsubscribing aggregation.</span></pre></td></tr></table></figure>

<p>然后在 Hystrix Dashboard 的地址栏里输入 <a href="http://localhost:8989" target="_blank" rel="noopener">http://localhost:8989</a> 就能看到了（<code>/turbine.stream</code> 可加可不加，如果要修改端口号，在 Spring Boot 的配置文件中修改 <code>turbine.stream.port</code>）<br><a href="http://image.winrains.cn/2019/11/708de-006tKfTcly1fr22bszw5qj31bi0uegvd.jpg" target="_blank" rel="noopener"><img src="http://image.winrains.cn/2019/11/708de-006tKfTcly1fr22bszw5qj31bi0uegvd.jpg" alt="img"></a></p>
<h1 id="相关阅读"><a href="#相关阅读" class="headerlink" title="相关阅读"></a>相关阅读</h1><p><a href="https://windmt.com/2018/04/14/spring-cloud-1-services-governance/" target="_blank" rel="noopener">Spring Cloud（一）：服务治理技术概览</a><br><a href="https://windmt.com/2018/04/15/spring-cloud-2-eureka/" target="_blank" rel="noopener">Spring Cloud（二）：服务注册与发现 Eureka</a><br><a href="https://windmt.com/2018/04/15/spring-cloud-3-service-producer-and-consumer/" target="_blank" rel="noopener">Spring Cloud（三）：服务提供与调用 Eureka</a><br><a href="https://windmt.com/2018/04/15/spring-cloud-4-hystrix/" target="_blank" rel="noopener">Spring Cloud（四）：服务容错保护 Hystrix</a><br><a href="https://windmt.com/2018/04/16/spring-cloud-5-hystrix-dashboard/" target="_blank" rel="noopener">Spring Cloud（五）：Hystrix 监控面板</a><br><a href="https://windmt.com/2018/04/17/spring-cloud-6-turbine/" target="_blank" rel="noopener">Spring Cloud（六）：Hystrix 监控数据聚合 Turbine</a><br><a href="https://windmt.com/2018/04/19/spring-cloud-7-config-sample/" target="_blank" rel="noopener">Spring Cloud（七）：配置中心（Git 版与动态刷新）</a><br><a href="https://windmt.com/2018/04/19/spring-cloud-8-config-with-eureka/" target="_blank" rel="noopener">Spring Cloud（八）：配置中心（服务化与高可用）</a><br><a href="https://windmt.com/2018/04/19/spring-cloud-9-config-eureka-bus/" target="_blank" rel="noopener">Spring Cloud（九）：配置中心（消息总线）</a><br><a href="https://windmt.com/2018/04/23/spring-cloud-10-zuul-router/" target="_blank" rel="noopener">Spring Cloud（十）：服务网关 Zuul（路由）</a><br><a href="https://windmt.com/2018/04/23/spring-cloud-11-zuul-filter/" target="_blank" rel="noopener">Spring Cloud（十一）：服务网关 Zuul（过滤器）</a><br><a href="https://windmt.com/2018/04/24/spring-cloud-12-sleuth-zipkin/" target="_blank" rel="noopener">Spring Cloud（十二）：分布式链路跟踪（Sleuth 与 Zipkin）</a><br>示例代码：<a href="https://github.com/zhaoyibo/spring-cloud-study" target="_blank" rel="noopener">GitHub</a></p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="http://blog.didispace.com/spring-cloud-starter-dalston-5-2/" target="_blank" rel="noopener">Spring Cloud 构建微服务架构：Hystrix 监控数据聚合【Dalston 版】</a><br><a href="http://www.ityouknow.com/springcloud/2017/05/18/hystrix-dashboard-turbine.html" target="_blank" rel="noopener">springcloud (五)：熔断监控 Hystrix Dashboard 和 Turbine</a><br><a href="https://github.com/spring-cloud/spring-cloud-netflix/issues/126" target="_blank" rel="noopener">Turbine AMQP aggregator fails to de-serialize messages from Hystrix stream</a><br><a href="http://cloud.spring.io/spring-cloud-static/Finchley.RC1/single/spring-cloud.html#_turbine_stream" target="_blank" rel="noopener">Spring Cloud - Turbine Stream</a></p>
<blockquote>
<p>作者：windmt</p>
<p>来源：<a href="https://windmt.com/2018/04/17/spring-cloud-6-turbine/" target="_blank" rel="noopener">https://windmt.com/2018/04/17/spring-cloud-6-turbine/</a></p>
</blockquote>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/01/10/Spring-Cloud%EF%BC%885%EF%BC%89%EF%BC%9AHystrix-%E7%9B%91%E6%8E%A7%E9%9D%A2%E6%9D%BF%E3%80%90Finchley-%E7%89%88%E3%80%91/" rel="prev" title="Spring Cloud（5）：Hystrix 监控面板【Finchley 版】">
      <i class="fa fa-chevron-left"></i> Spring Cloud（5）：Hystrix 监控面板【Finchley 版】
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/01/10/Spring-Cloud%EF%BC%887%EF%BC%89%EF%BC%9A%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%EF%BC%88Git-%E7%89%88%E4%B8%8E%E5%8A%A8%E6%80%81%E5%88%B7%E6%96%B0%EF%BC%89%E3%80%90Finchley-%E7%89%88%E3%80%91/" rel="next" title="Spring Cloud（7）：配置中心（Git 版与动态刷新）【Finchley 版】">
      Spring Cloud（7）：配置中心（Git 版与动态刷新）【Finchley 版】 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#准备工作"><span class="nav-number">1.</span> <span class="nav-text">准备工作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#创建-Turbine"><span class="nav-number">2.</span> <span class="nav-text">创建 Turbine</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#通过-HTTP-收集聚合"><span class="nav-number">2.1.</span> <span class="nav-text">通过 HTTP 收集聚合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#POM-配置"><span class="nav-number">2.1.1.</span> <span class="nav-text">POM 配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#启动类"><span class="nav-number">2.1.2.</span> <span class="nav-text">启动类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置文件"><span class="nav-number">2.1.3.</span> <span class="nav-text">配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#测试"><span class="nav-number">2.1.4.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#通过消息代理收集聚合"><span class="nav-number">2.2.</span> <span class="nav-text">通过消息代理收集聚合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Turbine-Stream"><span class="nav-number">2.2.1.</span> <span class="nav-text">Turbine Stream</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#POM"><span class="nav-number">2.2.1.1.</span> <span class="nav-text">POM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置文件-1"><span class="nav-number">2.2.1.2.</span> <span class="nav-text">配置文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#启动类-1"><span class="nav-number">2.2.1.3.</span> <span class="nav-text">启动类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#改造服务调用者"><span class="nav-number">2.2.2.</span> <span class="nav-text">改造服务调用者</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#测试-1"><span class="nav-number">2.2.3.</span> <span class="nav-text">测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#遇到的坑"><span class="nav-number">2.2.4.</span> <span class="nav-text">遇到的坑</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#依赖"><span class="nav-number">2.2.4.1.</span> <span class="nav-text">依赖</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JsonParseException"><span class="nav-number">2.2.4.2.</span> <span class="nav-text">JsonParseException</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Fatal-Exception-thrown-on-Scheduler-Worker-thread"><span class="nav-number">2.2.4.3.</span> <span class="nav-text">Fatal Exception thrown on Scheduler.Worker thread</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#相关阅读"><span class="nav-number">3.</span> <span class="nav-text">相关阅读</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考"><span class="nav-number">4.</span> <span class="nav-text">参考</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">congsheng.wang</p>
  <div class="site-description" itemprop="description">trouble is a friend</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">984</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">94</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">156</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">congsheng.wang</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.6.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  




  <script src="/js/local-search.js"></script>












  

  

</body>
</html>
