<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://congsheng.wang').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="1、什么是架构和架构本质在软件行业，对于什么是架构，都有很多的争论，每个人都有自己的理解。 此君说的架构和彼君理解的架构未必是一回事。因此我们在讨论架构之前，我们先讨论架构的概念定义，概念是人认识这个世界的基础，并用来沟通的手段，如果对架构概念理解不一样，那沟通起来自然不顺畅。Linux有架构，MySQL有架构，JVM也有架构，使用Java开发、MySQL存储、跑在Linux上的业务系统也有架构，">
<meta property="og:type" content="article">
<meta property="og:title" content="架构设计（1）：谈谈架构">
<meta property="og:url" content="http:&#x2F;&#x2F;congsheng.wang&#x2F;2019&#x2F;12&#x2F;28&#x2F;%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%EF%BC%881%EF%BC%89%EF%BC%9A%E8%B0%88%E8%B0%88%E6%9E%B6%E6%9E%84&#x2F;index.html">
<meta property="og:site_name" content="个人博客">
<meta property="og:description" content="1、什么是架构和架构本质在软件行业，对于什么是架构，都有很多的争论，每个人都有自己的理解。 此君说的架构和彼君理解的架构未必是一回事。因此我们在讨论架构之前，我们先讨论架构的概念定义，概念是人认识这个世界的基础，并用来沟通的手段，如果对架构概念理解不一样，那沟通起来自然不顺畅。Linux有架构，MySQL有架构，JVM也有架构，使用Java开发、MySQL存储、跑在Linux上的业务系统也有架构，">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;10&#x2F;20191011203621-e6261.png">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;10&#x2F;20191011203622-acf6b.png">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;10&#x2F;20191011203622-d8b1d.png">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;10&#x2F;20191011203622-1a26a.png">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;10&#x2F;20191011203623-31ef3.png">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;10&#x2F;20191011203623-955d3.png">
<meta property="og:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;10&#x2F;57eaf-20190613163642825.png">
<meta property="og:updated_time" content="2019-12-28T07:18:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;image.winrains.cn&#x2F;2019&#x2F;10&#x2F;20191011203621-e6261.png">

<link rel="canonical" href="http://congsheng.wang/2019/12/28/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%EF%BC%881%EF%BC%89%EF%BC%9A%E8%B0%88%E8%B0%88%E6%9E%B6%E6%9E%84/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>架构设计（1）：谈谈架构 | 个人博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">winrains的个人博客</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">108</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">83</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">489</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://congsheng.wang/2019/12/28/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%EF%BC%881%EF%BC%89%EF%BC%9A%E8%B0%88%E8%B0%88%E6%9E%B6%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="winrains">
      <meta itemprop="description" content="淡泊明志">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          架构设计（1）：谈谈架构
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-12-28 15:18:00" itemprop="dateCreated datePublished" datetime="2019-12-28T15:18:00+08:00">2019-12-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/" itemprop="url" rel="index">
                    <span itemprop="name">系统架构</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="1、什么是架构和架构本质"><a href="#1、什么是架构和架构本质" class="headerlink" title="1、什么是架构和架构本质"></a>1、什么是架构和架构本质</h1><p>在软件行业，对于什么是架构，都有很多的争论，每个人都有自己的理解。 此君说的架构和彼君理解的架构未必是一回事。因此我们在讨论架构之前，我们先讨论架构的概念定义，概念是人认识这个世界的基础，并用来沟通的手段，如果对架构概念理解不一样，那沟通起来自然不顺畅。<br>Linux有架构，MySQL有架构，JVM也有架构，使用Java开发、MySQL存储、跑在Linux上的业务系统也有架构，应该关注哪一个？想要清楚以上问题需要梳理几个有关系又相似的概念：系统与子系统、模块与组建、框架与架构:</p>
<a id="more"></a>

<h2 id="一、系统与子系统"><a href="#一、系统与子系统" class="headerlink" title="一、系统与子系统"></a>一、系统与子系统</h2><p>系统：泛指由一群有关联的个体组成，根据某种规则运作，能完成个别元件不能独立完成的工作能力的群体。<br>子系统：也是由一群关联的个体组成的系统，多半是在更大的系统中的一部分。</p>
<h2 id="二、模块与组件"><a href="#二、模块与组件" class="headerlink" title="二、模块与组件"></a>二、模块与组件</h2><p>都是系统的组成部分，从不同角度拆分系统而已。模块是逻辑单元，组件是物理单元。<br>模块就是从逻辑上将系统分解， 即分而治之， 将复杂问题简单化。模块的粒度可大可小， 可以是系统，几个子系统、某个服务，函数， 类，方法、 功能块等等。<br>组件可以包括应用服务、数据库、网络、物理机、还可以包括MQ、容器、Nginx等技术组件。</p>
<h2 id="三、框架与架构"><a href="#三、框架与架构" class="headerlink" title="三、框架与架构"></a>三、框架与架构</h2><p>框架是组件实现的规范，例如：MVC、MVP、MVVM等，是提供基础功能的产品，例如开源框架：Ruby on Rails、Spring、Laravel、Django等，这是可以拿来直接使用或者在此基础上二次开发。<br>框架是规范，架构是结构。<br><strong>我在这重新定义架构：软件架构指软件系统的顶层结构。</strong><br>架构是经过系统性地思考, 权衡利弊之后在现有资源约束下的最合理决策, 最终明确的系统骨架: 包括子系统, 模块, 组件. 以及他们之间协作关系, 约束规范, 指导原则. 并由它来指导团队中的每个人思想层面上的一致。<br><strong>涉及四方面：</strong><br><strong>1、系统性思考的合理决策：比如技术选型、解决方案等。</strong><br><strong>2、明确的系统骨架：明确系统有哪些部分组成。</strong><br><strong>3、系统协作关系：各个组成部分如何协作来实现业务请求。</strong><br><strong>4、约束规范和指导原则：保证系统有序，高效、稳定运行。</strong><br><strong>因此架构师具备能力：理解业务，全局把控，选择合适技术，解决关键问题、指导研发落地实施。</strong><br>架构的本质就是对系统进行有序化地重构以致符合当前业务的发展，并可以快速扩展。<br>那什么样的系统要考虑做架构设计? 技术不会平白无故的出和自驱动发展起来，而架构的发展和需求是基于业务的驱动。<br>架构设计完全是为了业务，<br>\1. 需求相对复杂.<br>\2. 非功能性需求在整个系统占据重要位置.<br>\3. 系统生命周期长,有扩展性需求.<br>4.系统基于组件或者集成的需要.<br>5.业务流程再造的需要.</p>
<h1 id="2、架构分类"><a href="#2、架构分类" class="headerlink" title="2、架构分类"></a>2、架构分类</h1><p>架构可细分为业务架构、应用架构、技术架构, 代码架构, 部署架构。<br><img src="http://image.winrains.cn/2019/10/20191011203621-e6261.png" alt="img"><br>业务架构是战略，应用架构是战术，技术架构是装备。其中应用架构承上启下，一方面承接业务架构的落地，另一方面影响技术选型。<br>熟悉业务，形成业务架构，根据业务架构，做出相应的应用架构，最后技术架构落地实施。<br>如何针对当前需求，选择合适的应用架构，如何面向未来，保证架构平滑过渡，这个是软件开发者，特别是架构师，都需要深入思考的问题。</p>
<h2 id="一、业务架构（俯视架构）"><a href="#一、业务架构（俯视架构）" class="headerlink" title="一、业务架构（俯视架构）"></a>一、业务架构（俯视架构）</h2><p><strong>包括业务规划，业务模块、业务流程，对整个系统的业务进行拆分，对领域模型进行设计，把现实的业务转化成抽象对象。</strong><br>没有最优的架构，只有最合适的架构，一切系统设计原则都要以解决业务问题为最终目标，脱离实际业务的技术情怀架构往往会给系统带入大坑，任何不基于业务做异想天开的架构都是耍流氓。<br>所有问题的前提要搞清楚我们今天面临的业务量有多大，增长走势是什么样，而且解决高并发的过程，一定是一个循序渐进逐步的过程。 合理的架构能够提前预见业务发展1~2年为宜。这样可以付出较为合理的代价换来真正达到技术引领业务成长的效果。<br>看看京东业务架构（网上分享图）：<br><strong><img src="http://image.winrains.cn/2019/10/20191011203622-acf6b.png" alt="img"></strong></p>
<h2 id="二、应用架构（剖面架构，也叫逻辑架构图）"><a href="#二、应用架构（剖面架构，也叫逻辑架构图）" class="headerlink" title="二、应用架构（剖面架构，也叫逻辑架构图）"></a>二、应用架构（剖面架构，也叫逻辑架构图）</h2><p>硬件到应用的抽象，包括抽象层和编程接口。应用架构和业务架构是相辅相成的关系。业务架构的每一部分都有应用架构。<br>类似：<br><img src="http://image.winrains.cn/2019/10/20191011203622-d8b1d.png" alt="img"><br><strong>应用架构</strong>：应用作为独立可部署的单元，为系统划分了明确的边界，深刻影响系统功能组织、代码开发、部署和运维等各方面. 应用架构定义系统有哪些应用、以及应用之间如何分工和合作。这里所谓应用就是各个逻辑模块或者子系统。<br><strong>应用架构图关键有2点：</strong><br><strong>1、职责划分: 明确应用（各个逻辑模块或者子系统）边界</strong></p>
<p><strong>1）逻辑分层</strong></p>
<p><strong>2）子系统、模块定义。</strong></p>
<p><strong>3）关键类。</strong></p>
<p><strong>2、职责之间的协作：</strong></p>
<p><strong>1）接口协议：应用对外输出的接口。</strong></p>
<p><strong>2）协作关系：应用之间的调用关系。</strong></p>
<p><strong>应用分层有两种方式：</strong><br><strong>一种是水平分（横向）</strong>，按照功能处理顺序划分应用，比如把系统分为web前端/中间服务/后台任务，这是面向业务深度的划分。<br><strong>另一种是垂直分（纵向）</strong>，按照不同的业务类型划分应用，比如进销存系统可以划分为三个独立的应用，这是面向业务广度的划分。<br>应用的合反映应用之间如何协作，共同完成复杂的业务case，主要体现在应用之间的通讯机制和数据格式，通讯机制可以是同步调用/异步消息/共享DB访问等，数据格式可以是文本/XML/JSON/二进制等。<br>应用的分偏向于业务，反映业务架构，应用的合偏向于技术，影响技术架构。分降低了业务复杂度，系统更有序，合增加了技术复杂度，系统更无序。<br>应用架构的本质是通过系统拆分，平衡业务和技术复杂性，保证系统形散神不散。<br>系统采用什么样的应用架构，受业务复杂性影响，包括企业发展阶段和业务特点；同时受技术复杂性影响，包括IT技术发展阶段和内部技术人员水平。业务复杂性（包括业务量大）必然带来技术复杂性，应用架构目标是解决业务复杂性的同时，避免技术太复杂，确保业务架构落地。</p>
<h2 id="三、数据架构"><a href="#三、数据架构" class="headerlink" title="三、数据架构"></a>三、数据架构</h2><p>数据架构指导数据库的设计. 不仅仅要考虑开发中涉及到的数据库，实体模型，也要考虑物理架构中数据存储的设计。</p>
<table>
<thead>
<tr>
<th><strong>No.</strong></th>
<th><strong>考虑的方面</strong></th>
<th><strong>产出物</strong></th>
<th><strong>工具</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>数据是集中还是分布存储的？如何考虑分布式存储？</td>
<td>数据架构图</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>领域模型到数据库表的转换？表结构关系的设计？</td>
<td>逻辑模型 物理模型 ER图</td>
<td>Power Designer Visio</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>实体如何设计？充血模型和贫血模型？</td>
<td>UML类图</td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>使用什么数据库？关系型还是非关系型？</td>
<td>选型结果</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="四、代码架构（也叫开发架构）"><a href="#四、代码架构（也叫开发架构）" class="headerlink" title="四、代码架构（也叫开发架构）"></a>四、代码架构（也叫开发架构）</h2><p>子系统代码架构主要为开发人员提供切实可行的指导，如果代码架构设计不足，就会造成影响全局的架构设计。比如公司内不同的开发团队使用不同的技术栈或者组件，结果公司整体架构设计就会失控。<br>代码架构主要定义：<br>一、代码单元:</p>
<p>1、配置设计</p>
<p>2、框架、类库。</p>
<p>二、代码单元组织：</p>
<p>1、编码规范，编码的惯例。</p>
<p>2、项目模块划分</p>
<p>3、顶层文件结构设计，比如mvc设计。</p>
<p>4、依赖关系</p>
<table>
<thead>
<tr>
<th><strong>No.</strong></th>
<th><strong>考虑的方面</strong></th>
<th><strong>产出物</strong></th>
<th><strong>工具</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>分层结构设计</td>
<td>分层架构图（开发架构图）</td>
<td>各种绘图工具</td>
<td>好的分层结构支持自动化测试</td>
</tr>
<tr>
<td>2</td>
<td>开发技术选项</td>
<td>开发语言 开发框架 开发工具</td>
<td></td>
<td>考虑商用产品、开源框架、自研框架</td>
</tr>
<tr>
<td>3</td>
<td>模块划分</td>
<td>源码工程；Project目录结构； 分包(分库)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>开发规范</td>
<td>开发/编码规范文档；</td>
<td></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>软件质量属性</td>
<td>分析和决策结果</td>
<td></td>
<td>考虑运行期和开发期软件质量属性，并权衡利弊进行决策。</td>
</tr>
</tbody></table>
<h2 id="五、技术架构"><a href="#五、技术架构" class="headerlink" title="五、技术架构"></a>五、技术架构</h2><p><strong>技术架构：确定组成应用系统的实际运行组件（lvs，nginx，tomcat，php-fpm等），这些运行组件之间的关系，以及部署到硬件的策略。</strong><br><strong>技术架构主要考虑系统的非功能性特征，对系统的高可用、高性能、扩展、安全、伸缩性、简洁等做系统级的把握。</strong><br><strong>系统架构的设计要求架构师具备软件和硬件的功能和性能的过硬知识，这也是架构设计工作中最为困难的工作。</strong></p>
<h2 id="六、部署拓扑架构图（实际物理架构图）"><a href="#六、部署拓扑架构图（实际物理架构图）" class="headerlink" title="六、部署拓扑架构图（实际物理架构图）"></a>六、部署拓扑架构图（实际物理架构图）</h2><p>拓扑架构，包括架构部署了几个节点，节点之间的关系，服务器的高可用，网路接口和协议等，决定了应用如何运行，运行的性能，可维护性，可扩展性，是所有架构的基础。这个图主要是运维工程师主要关注的对象。<br><img src="http://image.winrains.cn/2019/10/20191011203622-1a26a.png" alt="img"><br>物理架构主要考虑硬件选择和拓扑结构，软件到硬件的映射，软硬件的相互影响。</p>
<table>
<thead>
<tr>
<th><strong>No.</strong></th>
<th><strong>考虑的方面</strong></th>
<th><strong>产出物</strong></th>
<th><strong>工具</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>网络方面：网络拓扑；网络设备；安全机制</td>
<td>拓扑图 安全规范</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>性能方面：可靠性、可伸缩性</td>
<td>需要什么样设备性能</td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>部署方面：集中式还是分布式；组件部署</td>
<td>部署图</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id="3、应用架构演进"><a href="#3、应用架构演进" class="headerlink" title="3、应用架构演进"></a>3、应用架构演进</h1><p>业务架构是生产力，应用架构是生产关系，技术架构是生产工具。业务架构决定应用架构，应用架构需要适配业务架构，并随着业务架构不断进化，同时应用架构依托技术架构最终落地。<br><img src="http://image.winrains.cn/2019/10/20191011203623-31ef3.png" alt="img"><br>架构演进路程：单体应用-&gt;分布式应用服务化-&gt; 微服务</p>
<h2 id="1、单体应用"><a href="#1、单体应用" class="headerlink" title="1、单体应用"></a>1、单体应用</h2><p>企业一开始业务比较简单，只应用某个简单场景，应用服务支持数据增删改查和简单的逻辑即可，单体应用可以满足要求。<br>典型的三级架构，前端（Web/手机端）+中间业务逻辑层+数据库层。这是一种典型的Java Spring MVC或者Python Django框架的应用。其架构图如下所示：<br><img src="http://image.winrains.cn/2019/10/20191011203623-955d3.png" alt="img"><br>针对单体应用，非功能性需求的做法：<br>1、性能需求：使用缓存改善性能<br>2、并发需求：使用集群改善并发<br>3、读写分离：数据库地读写分离<br>4、使用反向代理和cdn加速<br>5、使用分布式文件和分布式数据库<br>单体架构的应用比较容易部署、测试， 在项目的初期，单体应用可以很好地运行。然而，随着需求的不断增加， 越来越多的人加入开发团队，代码库也在飞速地膨胀。慢慢地，单体应用变得越来越臃肿，可维护性、灵活性逐渐降低，维护成本越来越高。下面是单体架构应用的一些缺点：<br><strong>复杂性高：</strong>以一个百万行级别的单体应用为例，整个项目包含的模块非常多、模块的边界模糊、 依赖关系不清晰、 代码质量参差不齐、 混乱地堆砌在一起。可想而知整个项目非常复杂。 每次修改代码都心惊胆战， 甚至添加一个简单的功能， 或者修改一个Bug都会带来隐含的缺陷。<br><strong>技术债务：</strong> 随着时间推移、需求变更和人员更迭，会逐渐形成应用程序的技术债务， 并且越积 越多。“ 不坏不修”， 这在软件开发中非常常见， 在单体应用中这种思想更甚。 已使用的系统设计或代码难以被修改，因为应用程序中的其他模块可能会以意料之外的方式使用它。<br><strong>部署频率低：</strong> 随着代码的增多，构建和部署的时间也会增加。而在单体应用中， 每次功能的变更或缺陷的修复都会导致需要重新部署整个应用。全量部署的方式耗时长、 影响范围大、 风险高， 这使得单体应用项目上线部署的频率较低。 而部署频率低又导致两次发布之间会有大量的功能变更和缺陷修复，出错率比较高。<br><strong>可靠性差：</strong> 某个应用Bug，例如死循环、内存溢出等， 可能会导致整个应用的崩溃。<br><strong>扩展能力受限：</strong> 单体应用只能作为一个整体进行扩展，无法根据业务模块的需要进行伸缩。例如，应用中有的模块是计算密集型的，它需要强劲的CPU； 有的模块则是IO密集型的，需要更大的内存。 由于这些模块部署在一起，不得不在硬件的选择上做出妥协。<br><strong>阻碍技术创新：</strong>单体应用往往使用统一的技术平台或方案解决所有的问题， 团队中的每个成员 都必须使用相同的开发语言和框架，要想引入新框架或新技术平台会非常困难。</p>
<h2 id="2、分布式"><a href="#2、分布式" class="headerlink" title="2、分布式"></a>2、分布式</h2><p>随着业务深入，业务要求的产品功能越来越多，每个业务模块逻辑也都变得更加复杂，业务的深度和广度都增加，使得单体应用变得越来越臃肿，可维护性、灵活性逐渐降低，增加新功能开发周期越来越长，维护成本越来越高。<br>这时需要对系统按照业务功能模块拆分，将各个模块服务化，变成一个分布式系统。业务模块分别部署在不同的服务器上，各个业务模块之间通过接口进行数据交互。<br><img src="http://image.winrains.cn/2019/10/57eaf-20190613163642825.png" alt="img"><br>该架构相对于单体架构来说，这种架构提供了负载均衡的能力，大大提高了系统负载能力，解决了网站高并发的需求。另外还有以下特点：<br><strong>降低了耦合度：</strong>把模块拆分，使用接口通信,降低模块之间的耦合度。<br><strong>责任清晰：</strong>把项目拆分成若干个子项目，不同的团队负责不同的子项目。<br><strong>扩展方便：</strong>增加功能时只需要再增加一个子项目，调用其他系统的接口就可以。<br><strong>部署方便：</strong>可以灵活的进行分布式部署。<br><strong>提高代码的复用性：</strong>比如Service层，如果不采用分布式rest服务方式架构就会在手机Wap商城，微信商城，PC，Android，iOS每个端都要写一个Service层逻辑，开发量大，难以维护一起升级，这时候就可以采用分布式rest服务方式，公用一个service层。<br><strong>缺点：</strong>系统之间的交互要使用远程通信，接口开发增大工作量，但是利大于弊。</p>
<h2 id="3、微服务"><a href="#3、微服务" class="headerlink" title="3、微服务"></a>3、微服务</h2><p>紧接着业务模式越来越复杂，订单、商品、库存、价格等各个模块都很深入，比如价格区分会员等级，访问渠道（app还是PC），销售方式（团购还是普通）等，还有大量的价格促销，这些规则很复杂，容易相互冲突，需要把分散到各个业务的价格逻辑进行统一管理，以基础价格服务的方式透明地提供给上层应用，变成一个微内核的服务化架构，即微服务。<br>微服务的特点：<br><strong>易于开发和维护：</strong> 一个微服务只会关注一个特定的业务功能，所以它业务清晰、代码量较少。 开发和维护单个微服务相对简单。而整个应用是由若干个微服务构建而成的，所以整个应用也会被维持在一个可控状态。<br><strong>单个微服务启动较快：</strong> 单个微服务代码量较少， 所以启动会比较快。<br><strong>局部修改容易部署：</strong> 单体应用只要有修改，就得重新部署整个应用，微服务解决了这样的问题。 一般来说，对某个微服务进行修改，只需要重新部署这个服务即可。<br><strong>技术栈不受限：</strong>在微服务架构中，可以结合项目业务及团队的特点，合理地选择技术栈。例如某些服务可使用关系型数据库MySQL；某些微服务有图形计算的需求，可以使用Neo4j；甚至可根据需要，部分微服务使用Java开发，部分微服务使用Node.js开发。<br>微服务虽然有很多吸引人的地方，但它并不是免费的午餐，使用它是有代价的。使用微服务架构面临的挑战。<br><strong>运维要求较高：</strong>更多的服务意味着更多的运维投入。在单体架构中，只需要保证一个应用的正常运行。而在微服务中，需要保证几十甚至几百个服务服务的正常运行与协作，这给运维带来了很大的挑战。<br>分布式固有的复杂性：使用微服务构建的是分布式系统。对于一个分布式系统，系统容错、网络延迟、分布式事务等都会带来巨大的挑战。<br><strong>接口调整成本高：</strong>微服务之间通过接口进行通信。如果修改某一个微服务的API，可能所有使用了该接口的微服务都需要做调整。<br><strong>重复劳动：</strong>很多服务可能都会使用到相同的功能，而这个功能并没有达到分解为一个微服务的程度，这个时候，可能各个服务都会开发这一功能，从而导致代码重复。尽管可以使用共享库来解决这个问题（例如可以将这个功能封装成公共组件，需要该功能的微服务引用该组件），但共享库在多语言环境下就不一定行得通了。</p>
<h1 id="4、衡量架构的合理性"><a href="#4、衡量架构的合理性" class="headerlink" title="4、衡量架构的合理性"></a>4、衡量架构的合理性</h1><p>架构为业务服务，没有最优的架构，只有最合适的架构， 架构始终以高效，稳定，安全为目标来衡量其合理性。<br>合理的架构设计：</p>
<h2 id="一、业务需求角度"><a href="#一、业务需求角度" class="headerlink" title="一、业务需求角度"></a>一、业务需求角度</h2><p><strong>1、能解决当下业务需求和问题</strong><br><strong>2、高效完成业务需求:</strong> 能以优雅且可复用的方式解决当下所有业务问题<br><strong>3、前瞻性设计:</strong> 能在未来一段时间都能以第2种方式满足业务，从而不会每次当业务进行演变时，导致架构翻天覆地的变化。</p>
<h2 id="二、非业务需求角度"><a href="#二、非业务需求角度" class="headerlink" title="二、非业务需求角度"></a>二、非业务需求角度</h2><p><strong>（一）、稳定性。指标：</strong><br>\1. 高可用：要尽可能的提高软件的可用性，我想每个操作人都不愿意看到自己的工作无法正常进行。黑盒白盒测试、单元测试、自动化测试、故障注入测试、提高测试覆盖率等方式来一步一步推进。<br><strong>（二）、高效指标：</strong><br>\1. 文档化：不管是整体还是部分的整个生命周期内都必须做好文档化，变动的来源包括但不限于BUG，需求。<br>\2. 可扩展：软件的设计秉承着低耦合的理念去做，注意在合理的地方抽象。方便功能更改、新增和运用技术的迭代，并且支持在适时对架构做出重构。<br>\3. 高复用：为了避免重复劳动，为了降低成本，我们希望能够重用之前的代码、之前的设计。这点对于架构环境的依赖是最大的。<br><strong>（三）、安全指标</strong><br>\1. 安全：组织的运作过程中产生的数据都是具有商业价值的，保证数据的安全也是刻不容缓的一部分。以免出现XX门之类丑闻。加密、https等为普遍手段</p>
<h1 id="5、常见架构误区"><a href="#5、常见架构误区" class="headerlink" title="5、常见架构误区"></a>5、常见架构误区</h1><p>误区1——架构专门由架构师来做，业务开发人员无需关注：架构的再好，最终还是需要代码来落地，并且组织越大这个落地的难度越大。不单单是系统架构，每个解决方案每个项目也由自己的架构，如分层、设计模式等。如果每一块砖瓦不够坚固，那么整个系统还是会由崩塌的风险。所谓“千里之堤，溃于蚁穴”。<br>误区2——架构师确定了架构蓝图之后任务就结束了：架构不是“空中楼阁”，最终还是要落地的，但是架构师完全不去深入到第一线怎么知道“地”在哪？怎么才能落的稳稳当当。<br>误区3——不做出完美的架构设计不开工：世上没有最好架构，只有最合适的架构,不要企图一步到位。我们需要的不是一下子造出一辆汽车，而是从单轮车 –&gt; 自行车 –&gt; 摩托车，最后再到汽车。想象一下2年后才能造出的产品，当初市场还存在吗？<br>误区4—— 为虚无的未来埋单而过度设计<br>误区5——埋头干活儿缺乏前瞻性</p>
<h1 id="6、架构知识体系"><a href="#6、架构知识体系" class="headerlink" title="6、架构知识体系"></a>6、架构知识体系</h1><h2 id="架构演进"><a href="#架构演进" class="headerlink" title="架构演进"></a><strong>架构演进</strong></h2><ul>
<li>初始阶段：LAMP,部署在一台服务器</li>
<li>应用服务器和数据服务器分离</li>
<li>使用缓存改善性能</li>
<li>使用集群改善并发</li>
<li>数据库地读写分离</li>
<li>使用反向代理和cdn加速</li>
<li>使用分布式文件和分布式数据库</li>
<li>业务拆分</li>
<li>分布式服务</li>
</ul>
<h2 id="架构模式"><a href="#架构模式" class="headerlink" title="架构模式"></a><strong>架构模式</strong></h2><ul>
<li>分层：横向分层：应用层，服务层，数据层</li>
<li>分割：纵向分割：拆分功能和服务</li>
<li>分布式<ul>
<li>分布式应用和服务</li>
<li>分布式静态资源</li>
<li>分布式数据和存储</li>
<li>分布式计算</li>
</ul>
</li>
<li>集群：提高并发和可用性</li>
<li>缓存：优化系统性能<ul>
<li>cdn</li>
<li>方向代理访问资源</li>
<li>本地缓存</li>
<li>分布式缓存</li>
</ul>
</li>
<li>异步：降低系统的耦合性<ul>
<li>提供系统的可用性</li>
<li>加快响应速度</li>
</ul>
</li>
<li>冗余：冷备和热备，保证系统的可用性</li>
<li>自动化：发布，测试，部署，监控，报警，失效转移，故障恢复</li>
<li>安全：</li>
</ul>
<h2 id="架构核心要素"><a href="#架构核心要素" class="headerlink" title="架构核心要素"></a><strong>架构核心要素</strong></h2><ul>
<li>高性能：网站的灵魂<ul>
<li>性能测试</li>
<li>前端优化</li>
<li>应用优化</li>
<li>数据库优化</li>
</ul>
</li>
<li>可用性：保证服务器不宕机，一般通过冗余部署备份服务器来完成<ul>
<li>负载均衡</li>
<li>数据备份</li>
<li>自动发布</li>
<li>灰度发布</li>
<li>监控报警</li>
</ul>
</li>
<li>伸缩性：建集群，是否快速应对大规模增长的流量，容易添加新的机器<ul>
<li>集群</li>
<li>负载均衡</li>
<li>缓存负载均衡</li>
</ul>
</li>
<li>可扩展性：主要关注功能需求，应对业务的扩展，快速响应业务的变化。是否做法开闭原则，系统耦合依赖<ul>
<li>分布式消息</li>
<li>服务化</li>
</ul>
</li>
<li>安全性：网站的各种攻击，各种漏洞是否堵住，架构是否可以做到限流作用，防止ddos攻击。<ul>
<li>xss攻击</li>
<li>sql注入</li>
<li>csr攻击</li>
<li>web防火墙漏洞</li>
<li>安全漏洞</li>
<li>ssl</li>
</ul>
</li>
</ul>
<h1 id="7、架构书籍推荐"><a href="#7、架构书籍推荐" class="headerlink" title="7、架构书籍推荐"></a>7、架构书籍推荐</h1><p>\1. 《大型网站技术架构：核心原理与案例分析》<br>这是比较早，比较系统介绍大型网站技术架构的书，通俗易懂又充满智慧，即便你之前完全没接触过网站开发，通读前几章，也能快速获取到常见的网站技术架构及其应用场景。非常赞。<br>\2. 《亿级流量网站架构核心技术》<br>相比《大型网站技术架构》的高屋建瓴，开涛的这本《亿级流量网站架构核心技术》则落实到细节，网站架构中常见的各种技术，比如缓存、队列、线程池、代理……，统统都讲到了，而且配有核心代码。甚至连 Nginx 的配置都有！<br>如果你想在实现大流量网站时找参考技术和代码，这本书最合适啦。<br>\3. 《架构即未来》<br>这是一本“神书”啦，超越具体技术层面，着重剖析架构问题的根源，帮助我们弄清楚应该以何种方式管理、领导、组织和配置团队。<br>\4. 《分布式服务架构：原理、设计与实战》<br>这本书全面介绍了分布式服务架构的原理与设计，并结合作者在实施微服务架构过程中的实践经验，总结了保障线上服务健康、可靠的最佳方案，是一本架构级、实战型的重量级著作。<br>\5. 《聊聊架构》<br>这算是架构方面的一本神书了，从架构的原初谈起，从业务的拆分谈起，谈到架构的目的，架构师的角色，架构师如何将架构落地……强烈推荐。<br>不过，对于没有架构实践经验的小伙伴来讲，可能会觉得这本书比较虚，概念多，实战少。但如果你有过一两个项目的架构经验，就会深深认同书中追本溯源探讨的架构理念。<br>\6. 《软件架构师的12项修炼》<br>大多数时候所谓的“技术之玻璃天花板”其实只是缺乏软技能而已。这些技能可以学到，缺乏的知识可以通过决定改变的努力来弥补。<br>总结参考：<br>《大型网站技术架构》、《软件架构师设计》<br><a href="http://www.rowkey.me/blog/2017/08/24/arch/" target="_blank" rel="noopener">http://www.rowkey.me/blog/2017/08/24/arch/</a><br><a href="https://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;mid=2650992472&amp;idx=1&amp;sn=ab1234fff936fda3e5cf1f6780cb733d&amp;mpshare=1&amp;scene=23&amp;srcid=1017To1tEophZ2h3McPAESCO##" target="_blank" rel="noopener">https://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;mid=2650992472&amp;idx=1&amp;sn=ab1234fff936fda3e5cf1f6780cb733d&amp;mpshare=1&amp;scene=23&amp;srcid=1017To1tEophZ2h3McPAESCO##</a><br>总结参考：<br>《大型网站技术架构》</p>
<blockquote>
<p>作者：规速</p>
<p>来源：<a href="https://blog.csdn.net/hguisu/article/details/78258430" target="_blank" rel="noopener">https://blog.csdn.net/hguisu/article/details/78258430</a></p>
</blockquote>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/12/28/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-Java-%E6%9E%9A%E4%B8%BE/" rel="prev" title="深入理解 Java 枚举">
      <i class="fa fa-chevron-left"></i> 深入理解 Java 枚举
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/12/28/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%EF%BC%882%EF%BC%89%EF%BC%9A%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/" rel="next" title="架构设计（2）：架构设计原则">
      架构设计（2）：架构设计原则 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1、什么是架构和架构本质"><span class="nav-number">1.</span> <span class="nav-text">1、什么是架构和架构本质</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、系统与子系统"><span class="nav-number">1.1.</span> <span class="nav-text">一、系统与子系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、模块与组件"><span class="nav-number">1.2.</span> <span class="nav-text">二、模块与组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、框架与架构"><span class="nav-number">1.3.</span> <span class="nav-text">三、框架与架构</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2、架构分类"><span class="nav-number">2.</span> <span class="nav-text">2、架构分类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、业务架构（俯视架构）"><span class="nav-number">2.1.</span> <span class="nav-text">一、业务架构（俯视架构）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、应用架构（剖面架构，也叫逻辑架构图）"><span class="nav-number">2.2.</span> <span class="nav-text">二、应用架构（剖面架构，也叫逻辑架构图）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、数据架构"><span class="nav-number">2.3.</span> <span class="nav-text">三、数据架构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、代码架构（也叫开发架构）"><span class="nav-number">2.4.</span> <span class="nav-text">四、代码架构（也叫开发架构）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、技术架构"><span class="nav-number">2.5.</span> <span class="nav-text">五、技术架构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、部署拓扑架构图（实际物理架构图）"><span class="nav-number">2.6.</span> <span class="nav-text">六、部署拓扑架构图（实际物理架构图）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3、应用架构演进"><span class="nav-number">3.</span> <span class="nav-text">3、应用架构演进</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、单体应用"><span class="nav-number">3.1.</span> <span class="nav-text">1、单体应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、分布式"><span class="nav-number">3.2.</span> <span class="nav-text">2、分布式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、微服务"><span class="nav-number">3.3.</span> <span class="nav-text">3、微服务</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4、衡量架构的合理性"><span class="nav-number">4.</span> <span class="nav-text">4、衡量架构的合理性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、业务需求角度"><span class="nav-number">4.1.</span> <span class="nav-text">一、业务需求角度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、非业务需求角度"><span class="nav-number">4.2.</span> <span class="nav-text">二、非业务需求角度</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5、常见架构误区"><span class="nav-number">5.</span> <span class="nav-text">5、常见架构误区</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6、架构知识体系"><span class="nav-number">6.</span> <span class="nav-text">6、架构知识体系</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#架构演进"><span class="nav-number">6.1.</span> <span class="nav-text">架构演进</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#架构模式"><span class="nav-number">6.2.</span> <span class="nav-text">架构模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#架构核心要素"><span class="nav-number">6.3.</span> <span class="nav-text">架构核心要素</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7、架构书籍推荐"><span class="nav-number">7.</span> <span class="nav-text">7、架构书籍推荐</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">winrains</p>
  <div class="site-description" itemprop="description">淡泊明志</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">489</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">83</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">108</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">winrains</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.6.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  




  <script src="/js/local-search.js"></script>












  

  

</body>
</html>
